!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.6.0",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:y}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,S="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),j=function(e,t){return e===t&&(l=!0),0},D={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),$=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ye(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return g(t.replace($,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&y(p,e)?-1:t==C||t.ownerDocument==p&&y(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&D.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(j),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(B," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace($,"$1"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[S]&&(v=Ce(v)),y&&!y[S]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace($," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=A(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=S.split("").sort(j).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var D,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,D=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),S.ready()}S.fn.ready=function(e){return F.then(e)["catch"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var $=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)$(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):$(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===S.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement("div")),(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),y.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",y.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,y.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}var be=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Te;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Se(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&S.event.add(e,i,we)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--)d=g=(s=be.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(P)||[""]).length;while(l--)if(d=g=(s=be.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||S.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click",we),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return Se(this,e,Ce),!1},trigger:function(){return Se(this,e),!0},_default:function(){return!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){S.event.remove(this,e,n,t)})}});var ke=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function je(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function He(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&Ae.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),He(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ve(e,"script"),De)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,qe),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(Ne,""),u,l))}return n}function Oe(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ve(r)),r.parentNode&&(n&&ie(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Le(o[r],a[r]);else Le(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return $(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return He(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Pe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Re=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Me=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ie=new RegExp(ne.join("|"),"i");function We(e,t,n){var r,i,o,a,s=e.style;return(n=n||Re(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=S.style(e,t)),!y.pixelBoxStyles()&&Pe.test(a)&&Ie.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Fe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),a}}))}();var Be=["Webkit","Moz","ms"],$e=E.createElement("div").style,_e={};function ze(e){var t=S.cssProps[e]||_e[e];return t||(e in $e?e:_e[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Be.length;while(n--)if((e=Be[n]+t)in $e)return e}(e)||e)}var Ue=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ve={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"};function Ye(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Qe(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Je(e,t,n){var r=Re(e),i=(!y.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=We(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Pe.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Qe(e,t,n||(i?"border":"content"),o,r,a)+"px"}function Ke(e,t,n,r,i){return new Ke.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Xe.test(t),l=e.style;if(u||(t=ze(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Xe.test(t)||(t=ze(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=We(e,t,r)),"normal"===i&&t in Ge&&(i=Ge[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ue.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Je(e,u,n):Me(e,Ve,function(){return Je(e,u,n)})},set:function(e,t,n){var r,i=Re(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?Qe(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Qe(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Ye(0,t,s)}}}),S.cssHooks.marginLeft=Fe(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-Me(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=Ye)}),S.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Re(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=Ke).prototype={constructor:Ke,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=Ke.propHooks[this.prop];return e&&e.get?e.get(this):Ke.propHooks._default.get(this)},run:function(e){var t,n=Ke.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ke.propHooks._default.set(this),this}}).init.prototype=Ke.prototype,(Ke.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[ze(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Ke.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=Ke.prototype.init,S.fx.step={};var Ze,et,tt,nt,rt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function ot(){et&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(ot):C.setTimeout(ot,S.fx.interval),S.fx.tick())}function at(){return C.setTimeout(function(){Ze=void 0}),Ze=Date.now()}function st(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,n){for(var r,i=(lt.tweeners[t]||[]).concat(lt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function lt(o,e,t){var n,a,r=0,i=lt.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=Ze||at(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:Ze||at(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=lt.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ut,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(lt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],lt.tweeners[n]=lt.tweeners[n]||[],lt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),v=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],rt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Y.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=ut(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?lt.prefilters.unshift(e):lt.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=lt(this,S.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&it.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(st(r,!0),e,t,n)}}),S.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(Ze=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),Ze=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){et||(et=!0,ot())},S.fx.stop=function(){et=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},tt=E.createElement("input"),nt=E.createElement("select").appendChild(E.createElement("option")),tt.type="checkbox",y.checkOn=""!==tt.value,y.optSelected=nt.selected,(tt=E.createElement("input")).value="t",tt.type="radio",y.radioValue="t"===tt.value;var ct,ft=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return $(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?ct:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),ct={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=ft[t]||S.find.attr;ft[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=ft[o],ft[o]=r,r=null!=a(e,t,n)?o:null,ft[o]=i),r}});var pt=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function ht(e){return(e.match(P)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return $(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).addClass(t.call(this,e,gt(this)))});if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).removeClass(t.call(this,e,gt(this)))});if(!arguments.length)return this.attr("class","");if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])while(-1<r.indexOf(" "+o+" "))r=r.replace(" "+o+" "," ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){S(this).toggleClass(i.call(this,e,gt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=S(this),r=vt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&"boolean"!==o||((e=gt(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+ht(gt(n))+" ").indexOf(t))return!0;return!1}});var yt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(yt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:ht(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},y.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var mt=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!mt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,mt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,xt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,xt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var bt=C.location,wt={guid:Date.now()},Tt=/\?/;S.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Ct=/\[\]$/,Et=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function At(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||Ct.test(n)?i(n,t):At(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)At(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)At(n,e[n],t,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&kt.test(this.nodeName)&&!St.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}});var Nt=/%20/g,jt=/#.*$/,Dt=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Ot={},Pt={},Rt="*/".concat("*"),Mt=E.createElement("a");function It(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Wt(t,i,o,a){var s={},u=t===Pt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Ft(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Mt.href=bt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ft(Ft(e,S.ajaxSettings),t):Ft(S.ajaxSettings,e)},ajaxPrefilter:It(Ot),ajaxTransport:It(Pt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=S.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?S(y):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=qt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||bt.href)+"").replace(Ht,bt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(P)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Mt.protocol+"//"+Mt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=S.param(v.data,v.traditional)),Wt(Ot,v,t,T),h)return T;for(i in(g=S.event&&v.global)&&0==S.active++&&S.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Lt.test(v.type),f=v.url.replace(jt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Nt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(Tt.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Dt,"$1"),o=(Tt.test(f)?"&":"?")+"_="+wt.guid+++o),v.url=f+o),v.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Rt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Wt(Pt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<S.inArray("script",v.dataTypes)&&S.inArray("json",v.dataTypes)<0&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},$t=S.ajaxSettings.xhr();y.cors=!!$t&&"withCredentials"in $t,y.ajax=$t=!!$t,S.ajaxTransport(function(i){var o,a;if(y.cors||$t&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Bt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var _t,zt=[],Ut=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||S.expando+"_"+wt.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Ut.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ut,"$1"+r):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,zt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((_t=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===_t.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=ht(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position"))e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return $(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=Fe(y.pixelPosition,function(e,t){if(t)return t=We(e,n),Pe.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return $(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Xt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Vt=C.jQuery,Gt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Gt),e&&C.jQuery===S&&(C.jQuery=Vt),S},"undefined"==typeof e&&(C.jQuery=C.$=S),S});!function(e){var n=!1;if("function"==typeof define&&define.amd&&(define(e),n=!0),"object"==typeof exports&&(module.exports=e(),n=!0),!n){var t=window.Cookies,o=window.Cookies=e();o.noConflict=function(){return window.Cookies=t,o}}}(function(){function e(){for(var e=0,n={};e<arguments.length;e++){var t=arguments[e];for(var o in t)n[o]=t[o]}return n}function n(t){function o(n,r,i){var c;if("undefined"!=typeof document){if(arguments.length>1){if(i=e({path:"/"},o.defaults,i),"number"==typeof i.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*i.expires),i.expires=a}i.expires=i.expires?i.expires.toUTCString():"";try{c=JSON.stringify(r),/^[\{\[]/.test(c)&&(r=c)}catch(s){}r=t.write?t.write(r,n):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)),n=n.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),n=n.replace(/[\(\)]/g,escape);var f="";for(var u in i)i[u]&&(f+="; "+u,i[u]!==!0&&(f+="="+i[u]));return document.cookie=n+"="+r+f}n||(c={});for(var p=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,l=0;l<p.length;l++){var g=p[l].split("="),m=g.slice(1).join("=");'"'===m.charAt(0)&&(m=m.slice(1,-1));try{var C=g[0].replace(d,decodeURIComponent);if(m=t.read?t.read(m,C):t(m,C)||m.replace(d,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(s){}if(n===C){c=m;break}n||(c[C]=m)}catch(s){}}return c}}return o.set=o,o.get=function(e){return o.call(o,e)},o.getJSON=function(){return o.apply({json:!0},[].slice.call(arguments))},o.defaults={},o.remove=function(n,t){o(n,"",e(t,{expires:-1}))},o.withConverter=n,o}return n(function(){})});(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&o>i;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=d(e,i,4);var o=!w(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=b(r,e);for(var u=null!=t&&t.length,i=n>0?0:u-1;i>=0&&u>i;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t){var r=S.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||o,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)i=S[r],i in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var e=this,u=e._,i=Array.prototype,o=Object.prototype,a=Function.prototype,c=i.push,l=i.slice,f=o.toString,s=o.hasOwnProperty,p=Array.isArray,h=Object.keys,v=a.bind,g=Object.create,y=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):e._=m,m.VERSION="1.8.2";var d=function(n,t,r){if(t===void 0)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},b=function(n,t,r){return null==n?m.identity:m.isFunction(n)?d(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return b(n,t,1/0)};var x=function(n,t){return function(r){var e=arguments.length;if(2>e||null==r)return r;for(var u=1;e>u;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;a>c;c++){var l=o[c];t&&r[l]!==void 0||(r[l]=i[l])}return r}},_=function(n){if(!m.isObject(n))return{};if(g)return g(n);y.prototype=n;var t=new y;return y.prototype=null,t},j=Math.pow(2,53)-1,w=function(n){var t=n&&n.length;return"number"==typeof t&&t>=0&&j>=t};m.each=m.forEach=function(n,t,r){t=d(t,r);var e,u;if(w(n))for(e=0,u=n.length;u>e;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;u>e;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=b(t,r);for(var e=!w(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;u>o;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;return e=w(n)?m.findIndex(n,t,r):m.findKey(n,t,r),e!==void 0&&e!==-1?n[e]:void 0},m.filter=m.select=function(n,t,r){var e=[];return t=b(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(b(t)),r)},m.every=m.all=function(n,t,r){t=b(t,r);for(var e=!w(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=b(t,r);for(var e=!w(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r){return w(n)||(n=m.values(n)),m.indexOf(n,t,"number"==typeof r&&r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-1/0,o=-1/0;if(null==t&&null!=n){n=w(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],e>i&&(i=e)}else t=b(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u>o||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=w(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],i>e&&(i=e)}else t=b(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(o>u||1/0===u&&1/0===i)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=w(n)?n:m.values(n),e=r.length,u=Array(e),i=0;e>i;i++)t=m.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(w(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=b(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var A=function(n){return function(t,r,e){var u={};return r=b(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=A(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=A(function(n,t,r){n[r]=t}),m.countBy=A(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):w(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:w(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=b(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var k=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=n&&n.length;a>o;o++){var c=n[o];if(w(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=k(c,t,r));var l=0,f=c.length;for(u.length+=f;f>l;)u[i++]=c[l++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return k(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){if(null==n)return[];m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=b(r,e));for(var u=[],i=[],o=0,a=n.length;a>o;o++){var c=n[o],l=r?r(c,o,n):c;t?(o&&i===l||u.push(c),i=l):r?m.contains(i,l)||(i.push(l),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(k(arguments,!0,!0))},m.intersection=function(n){if(null==n)return[];for(var t=[],r=arguments.length,e=0,u=n.length;u>e;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;r>o&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=k(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,"length").length||0,r=Array(t),e=0;t>e;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=n&&n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.indexOf=function(n,t,r){var e=0,u=n&&n.length;if("number"==typeof r)e=0>r?Math.max(0,u+r):r;else if(r&&u)return e=m.sortedIndex(n,t),n[e]===t?e:-1;if(t!==t)return m.findIndex(l.call(n,e),m.isNaN);for(;u>e;e++)if(n[e]===t)return e;return-1},m.lastIndexOf=function(n,t,r){var e=n?n.length:0;if("number"==typeof r&&(e=0>r?e+r+1:Math.min(e,r+1)),t!==t)return m.findLastIndex(l.call(n,0,e),m.isNaN);for(;--e>=0;)if(n[e]===t)return e;return-1},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){r=b(r,e,1);for(var u=r(t),i=0,o=n.length;o>i;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;e>i;i++,n+=r)u[i]=n;return u};var O=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=_(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(v&&n.bind===v)return v.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return O(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;u>o;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return O(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(1>=e)throw new Error("bindAll must be passed function names");for(t=1;e>t;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var l=m.now();a||r.leading!==!1||(a=l);var f=t-(l-a);return e=this,u=arguments,0>=f||f>t?(o&&(clearTimeout(o),o=null),a=l,i=n.apply(e,u),o||(e=u=null)):o||r.trailing===!1||(o=setTimeout(c,f)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var l=m.now()-o;t>l&&l>=0?e=setTimeout(c,t-l):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var l=r&&!e;return e||(e=setTimeout(c,t)),l&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),1>=n&&(t=null),r}},m.once=m.partial(m.before,2);var F=!{toString:null}.propertyIsEnumerable("toString"),S=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(h)return h(n);var t=[];for(var e in n)m.has(n,e)&&t.push(e);return F&&r(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var e in n)t.push(e);return F&&r(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=b(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;i>a;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=x(m.allKeys),m.extendOwn=m.assign=x(m.keys),m.findKey=function(n,t,r){t=b(t,r);for(var e,u=m.keys(n),i=0,o=u.length;o>i;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=d(t,r)):(u=k(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;c>a;a++){var l=u[a],f=o[l];e(f,l,o)&&(i[l]=f)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(k(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=x(m.allKeys,!0),m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;e>i;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var E=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=f.call(n);if(u!==f.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!E(n[c],t[c],r,e))return!1}else{var l,s=m.keys(n);if(c=s.length,m.keys(t).length!==c)return!1;for(;c--;)if(l=s[c],!m.has(t,l)||!E(n[l],t[l],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return E(n,t)},m.isEmpty=function(n){return null==n?!0:w(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=p||function(n){return"[object Array]"===f.call(n)},m.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return f.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===f.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return n===void 0},m.has=function(n,t){return null!=n&&s.call(n,t)},m.noConflict=function(){return e._=u,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=function(n){return function(t){return null==t?void 0:t[n]}},m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=d(t,r,1);for(var u=0;n>u;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},N=m.invert(M),I=function(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};m.escape=I(M),m.unescape=I(N),m.result=function(n,t,r){var e=null==n?void 0:n[t];return e===void 0&&(e=r),m.isFunction(e)?e.call(n):e};var B=0;m.uniqueId=function(n){var t=++B+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var T=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\u2028|\u2029/g,K=function(n){return"\\"+R[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||T).source,(t.interpolate||T).source,(t.evaluate||T).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(q,K),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(a){throw a.source=i,a}var c=function(n){return o.call(this,n,m)},l=t.variable||"obj";return c.source="function("+l+"){\n"+i+"}",c},m.chain=function(n){var t=m(n);return t._chain=!0,t};var z=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return c.apply(n,arguments),z(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=i[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],z(this,r)}}),m.each(["concat","join","slice"],function(n){var t=i[n];m.prototype[n]=function(){return z(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this);window.Modernizr=function(a,b,c){function y(a){i.cssText=a}function z(a,b){return y(l.join(a+";")+(b||""))}function A(a,b){return typeof a===b}function B(a,b){return!!~(""+a).indexOf(b)}function C(a,b){for(var d in a){var e=a[d];if(!B(e,"-")&&i[e]!==c)return b=="pfx"?e:!0}return!1}function D(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:A(f,"function")?f.bind(d||b):f}return!1}function E(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+n.join(d+" ")+d).split(" ");return A(b,"string")||A(b,"undefined")?C(e,b):(e=(a+" "+o.join(d+" ")+d).split(" "),D(e,b,c))}var d="2.6.3",e={},f=b.documentElement,g="modernizr",h=b.createElement(g),i=h.style,j,k={}.toString,l=" -webkit- -moz- -o- -ms- ".split(" "),m="Webkit Moz O ms",n=m.split(" "),o=m.toLowerCase().split(" "),p={},q={},r={},s=[],t=s.slice,u,v=function(a,c,d,e){var h,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:g+(d+1),l.appendChild(j);return h=["&#173;",'<style id="s',g,'">',a,"</style>"].join(""),l.id=g,(m?l:n).innerHTML+=h,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=f.style.overflow,f.style.overflow="hidden",f.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),f.style.overflow=k),!!i},w={}.hasOwnProperty,x;!A(w,"undefined")&&!A(w.call,"undefined")?x=function(a,b){return w.call(a,b)}:x=function(a,b){return b in a&&A(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=t.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(t.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(t.call(arguments)))};return e}),p.csstransforms3d=function(){var a=!!E("perspective");return a&&"webkitPerspective"in f.style&&v("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=b.offsetLeft===9&&b.offsetHeight===3}),a};for(var F in p)x(p,F)&&(u=F.toLowerCase(),e[u]=p[F](),s.push((e[u]?"":"no-")+u));return e.addTest=function(a,b){if(typeof a=="object")for(var d in a)x(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof enableClasses!="undefined"&&enableClasses&&(f.className+=" "+(b?"":"no-")+a),e[a]=b}return e},y(""),h=j=null,e._version=d,e._prefixes=l,e._domPrefixes=o,e._cssomPrefixes=n,e.testProp=function(a){return C([a])},e.testAllProps=E,e.testStyles=v,e.prefixed=function(a,b,c){return b?E(a,b,c):E(a,"pfx")},e}(this,this.document);(function($){"use strict";if(!$.browser){$.browser={};$.browser.mozilla=/mozilla/.test(navigator.userAgent.toLowerCase())&&!/webkit/.test(navigator.userAgent.toLowerCase());$.browser.webkit=/webkit/.test(navigator.userAgent.toLowerCase());$.browser.opera=/opera/.test(navigator.userAgent.toLowerCase());$.browser.msie=/msie/.test(navigator.userAgent.toLowerCase())}var methods={destroy:function(){$(this).off(".maskMoney");if($.browser.msie){this.onpaste=null}return this},applyMask:function(value){var $input=$(this);var settings=$input.data("settings");return maskValue(value,settings)},mask:function(value){return this.each(function(){var $this=$(this);if(typeof value==="number"){$this.val(value)}return $this.trigger("mask")})},unmasked:function(){return this.map(function(){var value=$(this).val()||"0",isNegative=value.indexOf("-")!==-1,decimalPart;$(value.split(/\D/).reverse()).each(function(index,element){if(element){decimalPart=element;return false}});value=value.replace(/\D/g,"");value=value.replace(new RegExp(decimalPart+"$"),"."+decimalPart);if(isNegative){value="-"+value}return parseFloat(value)})},init:function(parameters){parameters=$.extend({prefix:"",suffix:"",affixesStay:true,thousands:",",decimal:".",precision:2,allowZero:false,allowNegative:false,doubleClickSelection:true,allowEmpty:false},parameters);return this.each(function(){var $input=$(this),settings,onFocusValue;settings=$.extend({},parameters);settings=$.extend(settings,$input.data());$input.data("settings",settings);function getInputSelection(){var el=$input.get(0),start=0,end=0,normalizedValue,range,textInputRange,len,endRange;if(typeof el.selectionStart==="number"&&typeof el.selectionEnd==="number"){start=el.selectionStart;end=el.selectionEnd}else{range=document.selection.createRange();if(range&&range.parentElement()===el){len=el.value.length;normalizedValue=el.value.replace(/\r\n/g,"\n");textInputRange=el.createTextRange();textInputRange.moveToBookmark(range.getBookmark());endRange=el.createTextRange();endRange.collapse(false);if(textInputRange.compareEndPoints("StartToEnd",endRange)>-1){start=end=len}else{start=-textInputRange.moveStart("character",-len);start+=normalizedValue.slice(0,start).split("\n").length-1;if(textInputRange.compareEndPoints("EndToEnd",endRange)>-1){end=len}else{end=-textInputRange.moveEnd("character",-len);end+=normalizedValue.slice(0,end).split("\n").length-1}}}}return{start:start,end:end}}function canInputMoreNumbers(){var haventReachedMaxLength=!($input.val().length>=$input.attr("maxlength")&&$input.attr("maxlength")>=0),selection=getInputSelection(),start=selection.start,end=selection.end,haveNumberSelected=selection.start!==selection.end&&$input.val().substring(start,end).match(/\d/)?true:false,startWithZero=$input.val().substring(0,1)==="0";return haventReachedMaxLength||haveNumberSelected||startWithZero}function setCursorPosition(pos){if(!!settings.formatOnBlur){return}$input.each(function(index,elem){if(elem.setSelectionRange){elem.focus();elem.setSelectionRange(pos,pos)}else if(elem.createTextRange){var range=elem.createTextRange();range.collapse(true);range.moveEnd("character",pos);range.moveStart("character",pos);range.select()}})}function maskAndPosition(startPos){var originalLen=$input.val().length,newLen;$input.val(maskValue($input.val(),settings));newLen=$input.val().length;if(!settings.reverse){startPos=startPos-(originalLen-newLen)}setCursorPosition(startPos)}function mask(){var value=$input.val();if(settings.allowEmpty&&value===""){return}if(settings.precision>0&&value.indexOf(settings.decimal)<0){value+=settings.decimal+new Array(settings.precision+1).join(0)}$input.val(maskValue(value,settings))}function changeSign(){var inputValue=$input.val();if(settings.allowNegative){if(inputValue!==""&&inputValue.charAt(0)==="-"){return inputValue.replace("-","")}else{return"-"+inputValue}}else{return inputValue}}function preventDefault(e){if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}}function keypressEvent(e){e=e||window.event;var key=e.which||e.charCode||e.keyCode,decimalKeyCode=settings.decimal.charCodeAt(0);if(key===undefined){return false}if((key<48||key>57)&&(key!==decimalKeyCode||!settings.reverse)){return handleAllKeysExceptNumericalDigits(key,e)}else if(!canInputMoreNumbers()){return false}else{if(key===decimalKeyCode&&shouldPreventDecimalKey()){return false}if(settings.formatOnBlur){return true}preventDefault(e);applyMask(e);return false}}function shouldPreventDecimalKey(){if(isAllTextSelected()){return false}return alreadyContainsDecimal()}function isAllTextSelected(){var length=$input.val().length;var selection=getInputSelection();return selection.start===0&&selection.end===length}function alreadyContainsDecimal(){return $input.val().indexOf(settings.decimal)>-1}function applyMask(e){e=e||window.event;var key=e.which||e.charCode||e.keyCode,keyPressedChar="",selection,startPos,endPos,value;if(key>=48&&key<=57){keyPressedChar=String.fromCharCode(key)}selection=getInputSelection();startPos=selection.start;endPos=selection.end;value=$input.val();$input.val(value.substring(0,startPos)+keyPressedChar+value.substring(endPos,value.length));maskAndPosition(startPos+1)}function handleAllKeysExceptNumericalDigits(key,e){if(key===45){$input.val(changeSign());return false}else if(key===43){$input.val($input.val().replace("-",""));return false}else if(key===13||key===9){return true}else if($.browser.mozilla&&(key===37||key===39)&&e.charCode===0){return true}else{preventDefault(e);return true}}function keydownEvent(e){e=e||window.event;var key=e.which||e.charCode||e.keyCode,selection,startPos,endPos,value,lastNumber;if(key===undefined){return false}selection=getInputSelection();startPos=selection.start;endPos=selection.end;if(key===8||key===46||key===63272){preventDefault(e);value=$input.val();if(startPos===endPos){if(key===8){if(settings.suffix===""){startPos-=1}else{lastNumber=value.split("").reverse().join("").search(/\d/);startPos=value.length-lastNumber-1;endPos=startPos+1}}else{endPos+=1}}$input.val(value.substring(0,startPos)+value.substring(endPos,value.length));maskAndPosition(startPos);return false}else if(key===9){return true}else{return true}}function focusEvent(){onFocusValue=$input.val();mask();var input=$input.get(0),textRange;if(!!settings.selectAllOnFocus){input.select()}else if(input.createTextRange){textRange=input.createTextRange();textRange.collapse(false);textRange.select()}}function cutPasteEvent(){setTimeout(function(){mask()},0)}function getDefaultMask(){var n=parseFloat("0")/Math.pow(10,settings.precision);return n.toFixed(settings.precision).replace(new RegExp("\\.","g"),settings.decimal)}function blurEvent(e){if($.browser.msie){keypressEvent(e)}if(!!settings.formatOnBlur&&$input.val()!==onFocusValue){applyMask(e)}if($input.val()===""&&settings.allowEmpty){$input.val("")}else if($input.val()===""||$input.val()===setSymbol(getDefaultMask(),settings)){if(!settings.allowZero){$input.val("")}else if(!settings.affixesStay){$input.val(getDefaultMask())}else{$input.val(setSymbol(getDefaultMask(),settings))}}else{if(!settings.affixesStay){var newValue=$input.val().replace(settings.prefix,"").replace(settings.suffix,"");$input.val(newValue)}}if($input.val()!==onFocusValue){$input.change()}}function clickEvent(){var input=$input.get(0),length;if(!!settings.selectAllOnFocus){return}else if(input.setSelectionRange){length=$input.val().length;input.setSelectionRange(length,length)}else{$input.val($input.val())}}function doubleClickEvent(){var input=$input.get(0),start,length;if(input.setSelectionRange){length=$input.val().length;start=settings.doubleClickSelection?0:length;input.setSelectionRange(start,length)}else{$input.val($input.val())}}$input.off(".maskMoney");$input.on("keypress.maskMoney",keypressEvent);$input.on("keydown.maskMoney",keydownEvent);$input.on("blur.maskMoney",blurEvent);$input.on("focus.maskMoney",focusEvent);$input.on("click.maskMoney",clickEvent);$input.on("dblclick.maskMoney",doubleClickEvent);$input.on("cut.maskMoney",cutPasteEvent);$input.on("paste.maskMoney",cutPasteEvent);$input.on("mask.maskMoney",mask)})}};function setSymbol(value,settings){var operator="";if(value.indexOf("-")>-1){value=value.replace("-","");operator="-"}if(value.indexOf(settings.prefix)>-1){value=value.replace(settings.prefix,"")}if(value.indexOf(settings.suffix)>-1){value=value.replace(settings.suffix,"")}return operator+settings.prefix+value+settings.suffix}function maskValue(value,settings){if(settings.allowEmpty&&value===""){return""}if(!!settings.reverse){return maskValueReverse(value,settings)}return maskValueStandard(value,settings)}function maskValueStandard(value,settings){var negative=value.indexOf("-")>-1&&settings.allowNegative?"-":"",onlyNumbers=value.replace(/[^0-9]/g,""),integerPart=onlyNumbers.slice(0,onlyNumbers.length-settings.precision),newValue,decimalPart,leadingZeros;newValue=buildIntegerPart(integerPart,negative,settings);if(settings.precision>0){decimalPart=onlyNumbers.slice(onlyNumbers.length-settings.precision);leadingZeros=new Array(settings.precision+1-decimalPart.length).join(0);newValue+=settings.decimal+leadingZeros+decimalPart}return setSymbol(newValue,settings)}function maskValueReverse(value,settings){var negative=value.indexOf("-")>-1&&settings.allowNegative?"-":"",valueWithoutSymbol=value.replace(settings.prefix,"").replace(settings.suffix,""),integerPart=valueWithoutSymbol.split(settings.decimal)[0],newValue,decimalPart="";if(integerPart===""){integerPart="0"}newValue=buildIntegerPart(integerPart,negative,settings);if(settings.precision>0){var arr=valueWithoutSymbol.split(settings.decimal);if(arr.length>1){decimalPart=arr[1]}newValue+=settings.decimal+decimalPart;var rounded=Number.parseFloat(integerPart+"."+decimalPart).toFixed(settings.precision);var roundedDecimalPart=rounded.toString().split(settings.decimal)[1];newValue=newValue.split(settings.decimal)[0]+"."+roundedDecimalPart}return setSymbol(newValue,settings)}function buildIntegerPart(integerPart,negative,settings){integerPart=integerPart.replace(/^0*/g,"");integerPart=integerPart.replace(/\B(?=(\d{3})+(?!\d))/g,settings.thousands);if(integerPart===""){integerPart="0"}return negative+integerPart}$.fn.maskMoney=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof method==="object"||!method){return methods.init.apply(this,arguments)}else{$.error("Method "+method+" does not exist on jQuery.maskMoney")}}})(window.jQuery||window.Zepto);!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.dayjs=e()}(this,function(){"use strict";var t="millisecond",e="second",n="minute",r="hour",i="day",s="week",u="month",a="quarter",o="year",f="date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,c=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},$=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},l={s:$,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+$(r,2,"0")+":"+$(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,u),s=n-i<0,a=e.clone().add(r+(s?-1:1),u);return+(-(r+(n-i)/(s?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:u,y:o,w:s,d:i,D:f,h:r,m:n,s:e,ms:t,Q:a}[h]||String(h||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},y="en",M={};M[y]=d;var m=function(t){return t instanceof S},D=function(t,e,n){var r;if(!t)return y;if("string"==typeof t)M[t]&&(r=t),e&&(M[t]=e,r=t);else{var i=t.name;M[i]=t,r=i}return!n&&r&&(y=r),r||!n&&y},v=function(t,e){if(m(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new S(n)},g=l;g.l=D,g.i=m,g.w=function(t,e){return v(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function d(t){this.$L=D(t.locale,null,!0),this.parse(t)}var $=d.prototype;return $.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(g.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(h);if(r){var i=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},$.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},$.$utils=function(){return g},$.isValid=function(){return!("Invalid Date"===this.$d.toString())},$.isSame=function(t,e){var n=v(t);return this.startOf(e)<=n&&n<=this.endOf(e)},$.isAfter=function(t,e){return v(t)<this.startOf(e)},$.isBefore=function(t,e){return this.endOf(e)<v(t)},$.$g=function(t,e,n){return g.u(t)?this[e]:this.set(n,t)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(t,a){var h=this,c=!!g.u(a)||a,d=g.p(t),$=function(t,e){var n=g.w(h.$u?Date.UTC(h.$y,e,t):new Date(h.$y,e,t),h);return c?n:n.endOf(i)},l=function(t,e){return g.w(h.toDate()[t].apply(h.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),h)},y=this.$W,M=this.$M,m=this.$D,D="set"+(this.$u?"UTC":"");switch(d){case o:return c?$(1,0):$(31,11);case u:return c?$(1,M):$(0,M+1);case s:var v=this.$locale().weekStart||0,S=(y<v?y+7:y)-v;return $(c?m-S:m+(6-S),M);case i:case f:return l(D+"Hours",0);case r:return l(D+"Minutes",1);case n:return l(D+"Seconds",2);case e:return l(D+"Milliseconds",3);default:return this.clone()}},$.endOf=function(t){return this.startOf(t,!1)},$.$set=function(s,a){var h,c=g.p(s),d="set"+(this.$u?"UTC":""),$=(h={},h[i]=d+"Date",h[f]=d+"Date",h[u]=d+"Month",h[o]=d+"FullYear",h[r]=d+"Hours",h[n]=d+"Minutes",h[e]=d+"Seconds",h[t]=d+"Milliseconds",h)[c],l=c===i?this.$D+(a-this.$W):a;if(c===u||c===o){var y=this.clone().set(f,1);y.$d[$](l),y.init(),this.$d=y.set(f,Math.min(this.$D,y.daysInMonth())).$d}else $&&this.$d[$](l);return this.init(),this},$.set=function(t,e){return this.clone().$set(t,e)},$.get=function(t){return this[g.p(t)]()},$.add=function(t,a){var f,h=this;t=Number(t);var c=g.p(a),d=function(e){var n=v(h);return g.w(n.date(n.date()+Math.round(e*t)),h)};if(c===u)return this.set(u,this.$M+t);if(c===o)return this.set(o,this.$y+t);if(c===i)return d(1);if(c===s)return d(7);var $=(f={},f[n]=6e4,f[r]=36e5,f[e]=1e3,f)[c]||1,l=this.$d.getTime()+t*$;return g.w(l,this)},$.subtract=function(t,e){return this.add(-1*t,e)},$.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",r=g.z(this),i=this.$locale(),s=this.$H,u=this.$m,a=this.$M,o=i.weekdays,f=i.months,h=function(t,r,i,s){return t&&(t[r]||t(e,n))||i[r].substr(0,s)},d=function(t){return g.s(s%12||12,t,"0")},$=i.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:g.s(a+1,2,"0"),MMM:h(i.monthsShort,a,f,3),MMMM:h(f,a),D:this.$D,DD:g.s(this.$D,2,"0"),d:String(this.$W),dd:h(i.weekdaysMin,this.$W,o,2),ddd:h(i.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:g.s(s,2,"0"),h:d(1),hh:d(2),a:$(s,u,!0),A:$(s,u,!1),m:String(u),mm:g.s(u,2,"0"),s:String(this.$s),ss:g.s(this.$s,2,"0"),SSS:g.s(this.$ms,3,"0"),Z:r};return n.replace(c,function(t,e){return e||l[t]||r.replace(":","")})},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(t,f,h){var c,d=g.p(f),$=v(t),l=6e4*($.utcOffset()-this.utcOffset()),y=this-$,M=g.m(this,$);return M=(c={},c[o]=M/12,c[u]=M,c[a]=M/3,c[s]=(y-l)/6048e5,c[i]=(y-l)/864e5,c[r]=y/36e5,c[n]=y/6e4,c[e]=y/1e3,c)[d]||y,h?M:g.a(M)},$.daysInMonth=function(){return this.endOf(u).$D},$.$locale=function(){return M[this.$L]},$.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=D(t,e,!0);return r&&(n.$L=r),n},$.clone=function(){return g.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},d}(),p=S.prototype;return v.prototype=p,[["$ms",t],["$s",e],["$m",n],["$H",r],["$W",i],["$M",u],["$y",o],["$D",f]].forEach(function(t){p[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),v.extend=function(t,e){return t.$i||(t(e,S,v),t.$i=!0),v},v.locale=D,v.isDayjs=m,v.unix=function(t){return v(1e3*t)},v.en=M[y],v.Ls=M,v.p={},v});!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.dayjs_plugin_advancedFormat=t()}(this,function(){"use strict";return function(e,t,r){var n=t.prototype,a=n.format;r.en.ordinal=function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"},n.format=function(e){var t=this,r=this.$locale(),n=this.$utils(),s=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return r.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return r.ordinal(t.week(),"W");case"w":case"ww":return n.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return n.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return n.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}});return a.bind(this)(s)}}});!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.dayjs_plugin_calendar=t()}(this,function(){"use strict";return function(e,t,a){var n="h:mm A",d={lastDay:"[Yesterday at] "+n,sameDay:"[Today at] "+n,nextDay:"[Tomorrow at] "+n,nextWeek:"dddd [at] "+n,lastWeek:"[Last] dddd [at] "+n,sameElse:"MM/DD/YYYY"};t.prototype.calendar=function(e,t){var n=t||this.$locale().calendar||d,s=a(e||void 0).startOf("d"),o=this.diff(s,"d",!0),i=o<-6?"sameElse":o<-1?"lastWeek":o<0?"lastDay":o<1?"sameDay":o<2?"nextDay":o<7?"nextWeek":"sameElse",f=n[i]||d[i];return"function"==typeof f?f.call(this,a()):this.format(f)}}});!function(t,s){"object"==typeof exports&&"undefined"!=typeof module?module.exports=s():"function"==typeof define&&define.amd?define(s):t.dayjs_plugin_duration=s()}(this,function(){"use strict";var t,s,n=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,i=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,e={years:31536e6,months:2592e6,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1,weeks:6048e5},r=function(t){return t instanceof c},o=function(t,s,n){return new c(t,n,s.$l)},u=function(t){return s.p(t)+"s"},h=function(t){return t<0},a=function(t){return h(t)?Math.ceil(t):Math.floor(t)},d=function(t,s){return t?h(t)?{negative:!0,format:""+function(t){return Math.abs(t)}(t)+s}:{negative:!1,format:""+t+s}:{negative:!1,format:""}},c=function(){function h(t,s,n){var r=this;if(this.$d={},this.$l=n,s)return o(t*e[u(s)],this);if("number"==typeof t)return this.$ms=t,this.parseFromMilliseconds(),this;if("object"==typeof t)return Object.keys(t).forEach(function(s){r.$d[u(s)]=t[s]}),this.calMilliseconds(),this;if("string"==typeof t){var h=t.match(i);if(h)return this.$d.years=h[2],this.$d.months=h[3],this.$d.weeks=h[4],this.$d.days=h[5],this.$d.hours=h[6],this.$d.minutes=h[7],this.$d.seconds=h[8],this.calMilliseconds(),this}return this}var c=h.prototype;return c.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce(function(s,n){return s+(t.$d[n]||0)*e[n]},0)},c.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=a(t/31536e6),t%=31536e6,this.$d.months=a(t/2592e6),t%=2592e6,this.$d.days=a(t/864e5),t%=864e5,this.$d.hours=a(t/36e5),t%=36e5,this.$d.minutes=a(t/6e4),t%=6e4,this.$d.seconds=a(t/1e3),t%=1e3,this.$d.milliseconds=t},c.toISOString=function(){var t=d(this.$d.years,"Y"),s=d(this.$d.months,"M"),n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var i=d(n,"D"),e=d(this.$d.hours,"H"),r=d(this.$d.minutes,"M"),o=this.$d.seconds||0;this.$d.milliseconds&&(o+=this.$d.milliseconds/1e3);var u=d(o,"S"),h=t.negative||s.negative||i.negative||e.negative||r.negative||u.negative,a=e.format||r.format||u.format?"T":"",c=(h?"-":"")+"P"+t.format+s.format+i.format+a+e.format+r.format+u.format;return"P"===c||"-P"===c?"P0D":c},c.toJSON=function(){return this.toISOString()},c.format=function(t){var i=t||"YYYY-MM-DDTHH:mm:ss",e={Y:this.$d.years,YY:s.s(this.$d.years,2,"0"),YYYY:s.s(this.$d.years,4,"0"),M:this.$d.months,MM:s.s(this.$d.months,2,"0"),D:this.$d.days,DD:s.s(this.$d.days,2,"0"),H:this.$d.hours,HH:s.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:s.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:s.s(this.$d.seconds,2,"0"),SSS:s.s(this.$d.milliseconds,3,"0")};return i.replace(n,function(t,s){return s||String(e[t])})},c.as=function(t){return this.$ms/e[u(t)]},c.get=function(t){var s=this.$ms,n=u(t);return"milliseconds"===n?s%=1e3:s="weeks"===n?a(s/e[n]):this.$d[n],0===s?0:s},c.add=function(t,s,n){var i;return i=s?t*e[u(s)]:r(t)?t.$ms:o(t,this).$ms,o(this.$ms+i*(n?-1:1),this)},c.subtract=function(t,s){return this.add(t,s,!0)},c.locale=function(t){var s=this.clone();return s.$l=t,s},c.clone=function(){return o(this.$ms,this)},c.humanize=function(s){return t().add(this.$ms,"ms").locale(this.$l).fromNow(!s)},c.milliseconds=function(){return this.get("milliseconds")},c.asMilliseconds=function(){return this.as("milliseconds")},c.seconds=function(){return this.get("seconds")},c.asSeconds=function(){return this.as("seconds")},c.minutes=function(){return this.get("minutes")},c.asMinutes=function(){return this.as("minutes")},c.hours=function(){return this.get("hours")},c.asHours=function(){return this.as("hours")},c.days=function(){return this.get("days")},c.asDays=function(){return this.as("days")},c.weeks=function(){return this.get("weeks")},c.asWeeks=function(){return this.as("weeks")},c.months=function(){return this.get("months")},c.asMonths=function(){return this.as("months")},c.years=function(){return this.get("years")},c.asYears=function(){return this.as("years")},h}();return function(n,i,e){t=e,s=e().$utils(),e.duration=function(t,s){var n=e.locale();return o(t,{$l:n},s)},e.isDuration=r;var u=i.prototype.add,h=i.prototype.subtract;i.prototype.add=function(t,s){return r(t)&&(t=t.asMilliseconds()),u.bind(this)(t,s)},i.prototype.subtract=function(t,s){return r(t)&&(t=t.asMilliseconds()),h.bind(this)(t,s)}}});!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):r.dayjs_plugin_relativeTime=t()}(this,function(){"use strict";return function(r,t,e){r=r||{};var n=t.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(r,t,e,o){return n.fromToBase(r,t,e,o)}e.en.relativeTime=o,n.fromToBase=function(t,n,i,d,u){for(var a,f,s,l=i.$locale().relativeTime||o,h=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],m=h.length,c=0;c<m;c+=1){var y=h[c];y.d&&(a=d?e(t).diff(i,y.d,!0):i.diff(t,y.d,!0));var p=(r.rounding||Math.round)(Math.abs(a));if(s=a>0,p<=y.r||!y.r){p<=1&&c>0&&(y=h[c-1]);var v=l[y.l];u&&(p=u(""+p)),f="string"==typeof v?v.replace("%d",p):v(p,n,y.l,s);break}}if(n)return f;var M=s?l.future:l.past;return"function"==typeof M?M(f):M.replace("%s",f)},n.to=function(r,t){return i(r,t,this,!0)},n.from=function(r,t){return i(r,t,this)};var d=function(r){return r.$u?e.utc():e()};n.toNow=function(r){return this.to(d(this),r)},n.fromNow=function(r){return this.from(d(this),r)}}});(function(){var MEMORY_KEYS_KEY,MEMORY_MAX_ITEMS,slice=[].slice,extend=function(child,parent){for(var key in parent){if(hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},hasProp={}.hasOwnProperty;MEMORY_MAX_ITEMS=10;MEMORY_KEYS_KEY="inputmemory_keys";dayjs.extend(window.dayjs_plugin_duration);dayjs.extend(window.dayjs_plugin_calendar);dayjs.extend(window.dayjs_plugin_advancedFormat);dayjs.extend(window.dayjs_plugin_relativeTime);window.I={libs:{react:$.Deferred(function(_this){return function(d){if(typeof React!=="undefined"&&React!==null){return d.resolve(React)}}}(this)),selectize:$.Deferred(function(_this){return function(d){var ref;if(typeof $!=="undefined"&&$!==null?(ref=$.fn)!=null?ref.selectize:void 0:void 0){return d.resolve($.fn.selectize)}}}(this)),redactor:$.Deferred(function(_this){return function(d){var ref;if(typeof $!=="undefined"&&$!==null?(ref=$.fn)!=null?ref.redactor:void 0:void 0){return d.resolve($.fn.redactor)}}}(this))},setup_page:function(){I.setup_register_referrers($(document.body));return _.defer(function(_this){return function(){return I.setup_affiliate_code()}}(this))},root_url:function(){var host;host=null;return function(path){if(!host){host=$("body").data("host")||"";if(host!==""){host=window.location.protocol+"//"+host;if(window.location.port&&window.location.port!=="80"){host+=":"+window.location.port}}}return host+"/"+path}}(),page_name:function(){return $(document.body).data("page_name")||"unknown"},get_csrf:function(){return this._csrf_token||(this._csrf_token=$("meta[name='csrf_token']").attr("value"))},with_csrf:function(thing){var token;if(thing==null){thing={}}token={csrf_token:I.get_csrf()};if(typeof thing==="string"){return thing+"&"+$.param(token)}else{return $.extend(thing,token)}},add_params:function(_this){return function(url,p){var rest;rest=$.param(p);if(url.match(/\?/)){return url+"&"+rest}else{return url+"?"+rest}}}(this),flash:function(flash,type){if(type==null){type="notice"}this.flasher||(this.flasher=new I.Flasher);if(flash.match(/^error:/)){flash=flash.replace(/^error:/,"Error: ");type="error"}return this.flasher.show(type,flash)},slugify:function(str,opts){str=str.replace(/\s+/g,"-");str=(opts!=null?opts.for_tags:void 0)?str.replace(/[^\w_.-]/g,"").replace(/^[_.-]+/,"").replace(/[_.-]+$/,""):str.replace(/[^\w_-]/g,"");return str.toLowerCase()},truncate:function(str,length,tail){if(length==null){length=30}if(tail==null){tail="..."}if(!str){return""}if(str.length>length+tail.length){return""+str.slice(0,length)+tail}else{return str}},number_format:function(number,dec,dsep,tsep){var decimals,fnums,parts;if(dsep==null){dsep="."}if(tsep==null){tsep=","}if(isNaN(number)||number===null){return""}number=number.toFixed(~~dec);parts=number.split(".");fnums=parts[0];decimals=parts[1]?dsep+parts[1]:"";return fnums.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+tsep)+decimals},format_bytes:function(){var thresholds;thresholds=[["gb",Math.pow(1024,3)],["mb",Math.pow(1024,2)],["kb",1024]];return function(bytes){var j,label,len,min,ref;for(j=0,len=thresholds.length;j<len;j++){ref=thresholds[j],label=ref[0],min=ref[1];if(bytes>=min){return""+I.number_format(bytes/min)+label}}return I.number_format(bytes)+" bytes"}}(),ecommerce_event:function(event){if(window.ga){ga("ecommerce:addTransaction",event.transaction);ga("ecommerce:addItem",event.item);return ga("ecommerce:send")}else{return console.log("ecommerce event:",event)}},event:function(category,action,label,value,interactive){var opts;if(interactive==null){interactive=true}opts={hitType:"event",eventCategory:category,eventAction:action,eventLabel:label,eventValue:value};if(!interactive){opts.nonInteraction=1}return I.event_with_opts(opts)},event_with_opts:function(opts){try{if(typeof ga!=="undefined"&&ga!==null){return ga("send",opts)}else{console.log("event:",opts);return typeof opts.hitCallback==="function"?opts.hitCallback():void 0}}catch(error){}},event2:function(){var args;args=1<=arguments.length?slice.call(arguments,0):[]},parse_money:function(str){var cents;cents=str&&parseInt(str.replace(/[^\d]/g,""),10);return cents||0},currency_symbols:{USD:"$",GBP:"Â£",EUR:"â¬",JPY:"Â¥"},currency_formats:{USD:{prefix:"$"},GBP:{prefix:"Â£"},JPY:{prefix:"Â¥"},EUR:{suffix:"â¬"}},format_money:function(cents,currency){var dollars,symbol;if(currency==null){currency="USD"}if(cents<0){return"-"+I.format_money(-cents,currency)}symbol=I.currency_symbols[currency]||"$";if(currency==="JPY"){return symbol+cents}else{dollars=I.number_format(cents/100,2);if(currency==="EUR"){return""+dollars+symbol}else{return""+symbol+dollars}}},money_input:function(input,opts){var currency,format;if(opts==null){opts={}}input=$(input);currency=opts.currency||input.data("currency");format=I.currency_formats[currency]||{prefix:"$"};return input.maskMoney($.extend({affixesStay:true,precision:currency==="JPY"?0:2},format,opts))},plural:function(noun,count){if(count===1){return count+" "+noun}else{return count+" "+noun+"s"}},default_redactor_opts:{plugins:["source","table","alignment","video","addimage"],toolbarFixed:false,buttons:["format","bold","italic","deleted","lists","link"],minHeight:250,linkSize:80},add_recaptcha_if_necessary:function(form,errors){if(errors[0]!=="recaptcha"){return}if(!form.data("adding_recaptcha")){form.data("adding_recaptcha",true);I.with_recaptcha(function(_this){return function(){var el;el=form.find(".g-recaptcha");I.event("recaptcha","show",I.page_name());return grecaptcha.render(el[0],{sitekey:el.data("sitekey")})}}(this))}form.set_form_errors(["Please fill out the CAPTCHA to continue"]);return true},with_recaptcha:function(_this){return function(fn){var url;if(window.grecaptcha){return fn(_this)}else if(_this.recaptcha_deferred){return _this.recaptcha_deferred.done(fn)}else{_this.recaptcha_deferred=$.Deferred().done(fn);window._itch_recaptcha_loaded=function(){return this.recaptcha_deferred.resolve()};url="https://www.google.com/recaptcha/api.js?onload=_itch_recaptcha_loaded&render=explicit";return $('<script type="text/javascript">').attr("src",url).appendTo("head")}}}(this),wait_for_object:function(_this){return function(obj,name,fn){var add,t,tick;t=1;add=10;tick=function(){if(obj[name]){return typeof fn==="function"?fn():void 0}t+=add;t=Math.min(500,t);return setTimeout(tick,t)};return tick()}}(this),with_redactor:function(_this){return function(fn){return I.wait_for_object($.fn,"redactor",fn)}}(this),with_selectize:function(_this){return function(fn){return I.libs.selectize.done(fn)}}(this),redactor:function(_this){return function(el,opts){var e,p;if(opts==null){opts={}}if(window.location.href.match(/\bredactor=0\b/)){return}if(!$.fn.redactor){console.warn("tried to create redactor text element without redactor on page",el[0]);return}opts=$.extend({},I.default_redactor_opts,opts);if(opts.source===false){delete opts.source;opts.plugins=function(){var j,len,ref,results;ref=opts.plugins;results=[];for(j=0,len=ref.length;j<len;j++){p=ref[j];if(p!=="source"){results.push(p)}}return results}()}try{return el.redactor(opts)}catch(error){e=error;I.event("error","redactor","invalid_content");return el.parent().replaceWith(el).end().val("").redactor(opts)}}}(this),get_template:function(name){return _.template($("#"+name+"_tpl").html())},lazy_template:function(obj,name){return function(){var args,fn;args=1<=arguments.length?slice.call(arguments,0):[];fn=I.get_template(name);obj.prototype.template=fn;return fn.apply(null,args)}},setup_sticky_bar:function(trigger){var body,visible,win;win=$(window);body=$(document.body);trigger=$(trigger);visible=false;return win.on("scroll",function(_this){return function(e){if(win.scrollTop()>trigger.offset().top+trigger.outerHeight()){if(!visible){body.addClass("show_sticky_bar");return visible=true}}else{if(visible){body.removeClass("show_sticky_bar");return visible=false}}}}(this))},setup_selectize:function(el){return el.find(".selectize_input").each(function(i,input){var $input,descriptions,optgroups,options,params,placeholder,render;$input=$(input);if($input.hasClass("selectized")){return}params={plugins:[],persist:false};if($input.is("select")){descriptions={};$input.find("option").each(function(i,option){var $option;$option=$(option);return descriptions[$option.val()]=$option.data("extra")});render=function(data,escape){var content,desc;content=escape(data.text);if(desc=descriptions[data.value]){content=content+" <span class='sub'>â "+desc+"</span>"}return"<div class='option'>"+content+"</div>"};params.render={item:render,option:render}}if(placeholder=$input.data("placeholder")){params.placeholder=placeholder}if($input.hasClass("dropdown")){params.maxItems=1}if(options=$input.data("options")){if($input.hasClass("options_object")){params.options=options;params.searchField=["text","keywords"]}else{params.options=options.map(function(opt){return{value:opt[0],text:opt[1]}})}params.plugins.push("remove_button");params.delimiter=",";params.persist=false}if(optgroups=$input.data("optgroups")){params.optgroups=optgroups}return $input.selectize(params)})},format_duration:function(duration,num_parts,truncate_seconds){var fn,j,key,len,out,pair,pairs,single,val;if(num_parts==null){num_parts=null}if(truncate_seconds==null){truncate_seconds=true}if(typeof duration==="number"){duration=dayjs.duration(duration)}pairs=[["y","years","a year"],["m","months","a month"],["d","days","a day"],["h","hours","an hour"],["m","minutes","a minute"],["s","seconds","a second"]];out=[];for(j=0,len=pairs.length;j<len;j++){pair=pairs[j];if(num_parts&&out.length===num_parts){break}key=pair[0],fn=pair[1],single=pair[2];val=duration[fn]();if(val>0){if(val>1){if(fn==="seconds"&&truncate_seconds){out.push("a few seconds")}else{out.push(val+" "+fn)}}else{out.push(single)}}}if(out.length>1){out[out.length-1]="and "+out[out.length-1]}return out.join(", ")},format_filesize:function(outer,selector){var file_size,j,len,ref,results;if(selector==null){selector=".file_size_value"}ref=outer.find(selector);results=[];for(j=0,len=ref.length;j<len;j++){file_size=ref[j];file_size=$(file_size);results.push(file_size.html(I.format_bytes(parseInt(file_size.html()))))}return results},adjust_font_size_to_fit:function(_this){return function(el,min_size){var _el,font_size,results;if(min_size==null){min_size=16}if(!el.length){return}font_size=el.css("font-size");font_size=parseInt(font_size.match(/\d+/),10);_el=el[0];results=[];while(_el.offsetWidth<_el.scrollWidth){font_size-=2;if(font_size<min_size){break}results.push(el.css("font-size",font_size+"px"))}return results}}(this),date_format:"yy-mm-dd",time_format:"HH:mm:ss",format_date_time:function(d){var date,time;time=$.datepicker.formatTime(this.time_format,{hour:d.getHours(),minute:d.getMinutes(),second:d.getSeconds()});date=$.datepicker.formatDate(this.date_format,new Date(d));return date+" "+time},format_date:function(d){return $.datepicker.formatDate(this.date_format,new Date(d))},datetimepicker:function(pickers,opts){var j,len,p,picker,val;for(j=0,len=pickers.length;j<len;j++){p=pickers[j];picker=$(p);if(val=picker.attr("value")){picker.val(this.format_date_time(I.parse_timestamp(val)))}}return pickers.datetimepicker($.extend({timeFormat:this.time_format,dateFormat:this.date_format,beforeShow:function(_this){return function(){_.defer(function(){return $("#ui-datepicker-div").css("z-index",100)});return void 0}}(this)},opts))},datepicker:function(pickers,opts){return pickers.datepicker($.extend({dateFormat:this.date_format,beforeShow:function(_this){return function(){_.defer(function(){return $("#ui-datepicker-div").css("z-index",100)});return void 0}}(this)},opts))},slug_input:function(_this){return function(input,bound_input){var valid_slug_chars;valid_slug_chars=/[a-z_0-9_-]/g;input.on("keypress",function(e){var char;if(e.keyCode>=32){char=String.fromCharCode(e.keyCode);if(!char.match(valid_slug_chars)){return false}}});if(bound_input&&bound_input.length){input.on("change",function(e){var slug;slug=I.slugify(bound_input.val());if(input.val().match(/^\s*$/)&&slug!==""){return input.val(slug)}});return bound_input.on("change",function(e){if(input.val().match(/^\s*$/)){return input.val(I.slugify($(e.currentTarget).val()))}})}}}(this),deferred_links:function(el,selector,promise_fn){promise_fn||(promise_fn=I.delegate_tracking);el.on("mouseup",selector,function(e){var target;if(e.which!==2){return}target=$(e.currentTarget);return promise_fn(target,e)});return el.on("click",selector,function(e){var finished,is_blank,ref,target;if(e.which!==1){return}target=$(e.currentTarget);is_blank=e.metaKey||e.ctrlKey||e.shiftKey||target.attr("target")==="_blank";finished=null;if(!is_blank){finished=function(_this){return function(){if(!finished){return}finished=null;return window.location=target.attr("href")}}(this);setTimeout(function(_this){return function(){return typeof finished==="function"?finished():void 0}}(this),200)}if((ref=promise_fn(target,e))!=null){ref.done(finished)}if(!is_blank){return false}})},delegate_tracking:function(_this){return function(el){var promises;promises=[];el.trigger("i:delegate_tracking",[function(p){return promises.push(p)}]);return $.when.apply($,promises)}}(this),ga_tracker:function(_this){return function(category,action,label,value){var send_event;return send_event=function(target){var opts,ref,ref1,ref2,ref3;opts={hitType:"event",eventCategory:(ref=target.data("category"))!=null?ref:category,eventAction:(ref1=target.data("action"))!=null?ref1:action,eventLabel:(ref2=target.data("label"))!=null?ref2:label,eventValue:(ref3=target.data("value"))!=null?ref3:value};return $.Deferred(function(_this){return function(d){opts.hitCallback=function(){return d.resolve()};return I.event_with_opts(opts)}}(this))}}}(this),tracked_links:function(){var action,category,el,label,rest,tracker,value;el=arguments[0],rest=2<=arguments.length?slice.call(arguments,1):[];category=rest[0],action=rest[1],label=rest[2],value=rest[3];tracker=I.ga_tracker(category,action,label,value);I.deferred_links(el,"a[data-label]",tracker);return el.on("i:track_link",function(e,l){var _label;if(l){_label=l[0]}return I.ga_tracker(category,action,_label!=null?_label:label,value)($(e.target))})},set_cookie:function(name,value,opts){if(opts==null){opts={}}if(I.in_dev){console.log("set cookie:",[name,value],opts)}return Cookies.set(name,value,$.extend({path:"/",domain:"."+$(document.body).data("host")},opts))},set_register_referrer:function(_this){return function(action){var page;page=I.page_name();if(page!=null){I.set_cookie("ref:register:page_params",page)}if(action!=null){return I.set_cookie("ref:register:action",action)}}}(this),setup_register_referrers:function(_this){return function(el){if(I.current_user){return}return el.on("mouseup","[data-register_action]",function(e){var action;action=$(e.currentTarget).data("register_action");return I.set_register_referrer(action)})}}(this),setup_affiliate_code:function(_this){return function(code,replace){var location,ref;if(replace==null){replace=false}if(code==null){code=(ref=window.location.search.match(/\bac=([\w\d]+(?:\-[\.:_\w\d]+)?)/))!=null?ref[1]:void 0}if(!code){return}if(!replace&&code===Cookies.get("acode")){return}I.set_cookie("acode",code,{expires:1});if(document.referrer){I.set_cookie("acode:ref",document.referrer.substring(0,180),{expires:1})}location=window.location.href.replace(/\?.*$/,"").substring(0,180);return I.set_cookie("acode:land",location,{expires:1})}}(this),setup_grid_referrers:function(_this){return function(el,value_fn){var set_cookie_for;set_cookie_for=function(el){var game_id,sale,sale_id,sale_type;if(!el.closest(".game_author").length){if(game_id=el.closest("[data-game_id]").data("game_id")){I.ReferrerTracker.push("game",game_id,value_fn(el))}}if(!el.closest(".sale_author").length){sale=el.closest("[data-sale_id]");if(sale_id=sale.data("sale_id")){sale_type=sale.data("sale_type");return I.ReferrerTracker.push(sale_type,sale_id,value_fn(el))}}};el.on("mouseup",".game_cell a, .sale_row a, .leader_game a",function(e){if(e.which>3){return}return set_cookie_for($(e.currentTarget))});return el.on("i:track_link",function(e){return set_cookie_for($(e.target))})}}(this),bind_checkbox_to_input:function(_this){return function(checkbox,input,callback){var update_state;update_state=function(){var checked;checked=checkbox.prop("checked");input.prop("disabled",checked);return typeof callback==="function"?callback(checked):void 0};checkbox.on("change",update_state);return update_state()}}(this),add_facebook:function(_this){return function(callback){var fjs,id,js;if(window.FB){return}_this.add_facebook=function(){};$('<div id="fb-root"></div>').appendTo(document.body);id="facebook-jssdk";if(document.getElementById(id)){return}if(callback!=null){window.fbAsyncInit=callback}fjs=document.getElementsByTagName("script")[0];js=document.createElement("script");js.id=id;js.src="//connect.facebook.net/en_GB/sdk.js#xfbml=1&appId=537395183072744&version=v2.0";return fjs.parentNode.insertBefore(js,fjs)}}(this),add_twitter:function(_this){return function(){var fjs,id,js;id="twitter-wjs";if(document.getElementById(id)){return}_this.add_twitter=function(){};fjs=document.getElementsByTagName("script")[0];js=document.createElement("script");js.id="twitter-wjs";js.src="//platform.twitter.com/widgets.js";return fjs.parentNode.insertBefore(js,fjs)}}(this),add_react:function(){var loading_react,placeholder;loading_react=$.Deferred();I.add_react=function(){return loading_react};I.libs.react.done(function(_this){return function(){return loading_react.resolve()}}(this));placeholder=$("#lib_react_src");placeholder.replaceWith($('<script type="text/javascript">').attr("src",placeholder.data("src")));return loading_react},has_follow_button:function(_this){return function(el,opts){var animate_follow,animate_unfollow,cls,params,ref,ref1,ref2;if(opts==null){opts={}}el=$(el);cls=(ref=opts.cls)!=null?ref:"follow_button_widget";animate_follow=(ref1=opts.animate_follow)!=null?ref1:"animate_bounce";animate_unfollow=(ref2=opts.animate_unfollow)!=null?ref2:"animate_drop_down";params={};params[cls]=function(btn){var data,following,timeout,url;if(!I.current_user){return"continue"}if(btn.is(".loading")){return}btn.removeClass(animate_follow+" "+animate_unfollow);timeout=$.Deferred(function(d){return setTimeout(function(){return d.resolve()},500)});following=btn.is(".is_following");url=following?(_.defer(function(){return btn.addClass(animate_unfollow)}),btn.data("unfollow_url")):(_.defer(function(){return btn.addClass(animate_follow)}),btn.data("follow_url"));btn.addClass("loading").trigger("i:track_link",["follow_btn"]);data=btn.data("follow_data")||{};return $.when($.post(url,I.with_csrf(data)),timeout).done(function(arg){var res;res=arg[0];btn.removeClass("loading "+animate_follow+" "+animate_unfollow);if(res.errors){I.flash(res.errors.join(", "));return}return btn.toggleClass("is_following",res.following).trigger("i:follow_updated",[{user_id:btn.data("user_id"),following:res.following,btn:btn}])})};el.dispatch("click",params);return $(document.body).on("i:follow_updated",function(e,arg){var btn,following,user_id;user_id=arg.user_id,following=arg.following,btn=arg.btn;return el.find("."+cls+"[data-user_id="+user_id+"]").not(btn).toggleClass("is_following",following)})}}(this),is_mobile:function(_this){return function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}}(this),is_ios:function(_this){return function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}}(this),strip_css:function(_this){return function(str){return str.replace(/<\s*\/\s*style\s*>/i,"")}}(this),request_fullscreen:function(_this){return function(el,orientation){var entered,ref,ref1;entered=el.requestFullscreen?(el.requestFullscreen(),true):el.msRequestFullscreen?(el.msRequestFullscreen(),true):el.mozRequestFullScreen?(el.mozRequestFullScreen(),true):el.webkitRequestFullscreen?(el.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT),true):false;if(entered&&orientation){if((ref=window.screen)!=null){if((ref1=ref.orientation)!=null){if(typeof ref1.lock==="function"){ref1.lock(orientation)}}}}return entered}}(this),is_fullscreen:function(_this){return function(){return!(!document.fullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement&&!document.msFullscreenElement)}}(this),exit_fullscreen:function(_this){return function(){if(document.exitFullscreen){return document.exitFullscreen()}else if(document.msExitFullscreen){return document.msExitFullscreen()}else if(document.mozCancelFullScreen){return document.mozCancelFullScreen()}else if(document.webkitExitFullscreen){return document.webkitExitFullscreen()}}}(this),toggle_fullscreen:function(_this){return function(el,orientation){if(I.is_fullscreen()){I.exit_fullscreen();return false}else{if(!I.request_fullscreen(el,orientation)){return"failed"}return true}}}(this),setup_dirty_warning:function(_this){return function(form,cb){cb||(cb=function(){return form.data("dirty")});form.data("dirty",false);$(window).on("beforeunload",function(){var msg;msg=cb();if(!msg){return}switch(typeof msg){case"string":return msg;default:return"You've made modifications to this page."}});form.on("i:after_submit",function(){return form.data("dirty",false)});return _.defer(function(){form.on("change","input, select, textarea",function(e){return form.data("dirty",true)});return form.on("keydown, mousedown",".redactor-editor",function(){return form.data("dirty",true)})})}}(this),remote_submit:function(_this){return function(form,more_data){var buttons,data;form.trigger("i:before_submit");data=form.serializeArray();buttons=form.addClass("loading").find("button, input[type='submit']").prop("disabled",true).addClass("disabled");return $.when(more_data).then(function(d){var ref;if(d){data=data.concat(d)}return $.ajax({data:data,type:(ref=form.attr("method"))!=null?ref:"POST",dataType:"json",url:form.attr("action"),xhrFields:{withCredentials:true},error:function(xhr){var res;res=function(){try{return JSON.parse(xhr.responseText)}catch(error){}}();if(res!=null?res.errors:void 0){return I.flash(res.errors.join(", "))}else{return I.flash("We seem to be having server problems right now! Please try again later.")}},complete:function(){buttons.prop("disabled",false).removeClass("disabled");form.removeClass("loading");return form.trigger("i:after_submit")}}).then(null,function(xhr){try{return JSON.parse(xhr.responseText)}catch(error){throw xhr}})})}}(this),is_middle_click:function(_this){return function(e){return 2===e.which||e.metaKey||e.ctrlKey}}(this),escape_regex:function(_this){return function(str){return str.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}}(this),move:function(array,item,dir){var copy,idx,o,target_idx;idx=array.indexOf(item);if(idx===-1){throw"Failed to find object in array"}target_idx=idx+dir;if(target_idx<0||target_idx>=array.length){throw"Movement is outside of array ("+target_idx+") [0, "+(array.length-1)+"]"}copy=function(){var j,len,results;results=[];for(j=0,len=array.length;j<len;j++){o=array[j];if(o!==item){results.push(o)}}return results}();copy.splice(target_idx,0,item);return copy},format_integer:function(num){if(num>1e7){return Math.floor(num/1e6)+"m"}else if(num>=1e6){return Math.floor(num/1e5)/10+"m"}else if(num>1e4){return Math.floor(num/1e3)+"k"}else if(num>=1e3){return Math.floor(num/100)/10+"k"}else{return""+num}},coerce_timestamp:function(ts){var m;if(m=typeof ts==="string"&&ts.match(/(^\d{4}\-\d{1,2}\-\d{1,2}) (\d{1,2}:\d{1,2}:\d{1,2})$/)){return m[1]+"T"+m[2]+"Z"}else{return ts}},parse_timestamp:function(ts){return dayjs(I.coerce_timestamp(ts)).toDate()},format_timestamp:function(){var args,method,ref,t;t=arguments[0],method=arguments[1],args=3<=arguments.length?slice.call(arguments,2):[];if(method==null){method="fromNow"}t=I.coerce_timestamp(t);switch(method){case"fromNow":return dayjs(t).fromNow();case"calendar":return dayjs(t).calendar(null,{sameElse:"MMMM Do YYYY"});case"format":return(ref=dayjs(t)).format.apply(ref,args);default:throw new Error("unknown method for format_timestamp: "+method)}},store_memory:function(key,value){var k,remaining_keys,stored_keys,to_remove;if(!window.localStorage){return}stored_keys=function(){try{return JSON.parse(localStorage.getItem(MEMORY_KEYS_KEY))}catch(error){}}();stored_keys||(stored_keys=[]);if(stored_keys[0]!==key){remaining_keys=function(){var j,len,results;results=[];for(j=0,len=stored_keys.length;j<len;j++){k=stored_keys[j];if(key!==k){results.push(k)}}return results}();stored_keys=[key].concat(remaining_keys);while(stored_keys.length>MEMORY_MAX_ITEMS){to_remove=stored_keys.pop();if(typeof localStorage!=="undefined"&&localStorage!==null){localStorage.removeItem(to_remove)}}localStorage.setItem(MEMORY_KEYS_KEY,JSON.stringify(stored_keys))}return localStorage.setItem(key,value)},clear_memory:function(key){var k,stored_keys;if(!window.localStorage){return}stored_keys=function(){try{return JSON.parse(localStorage.getItem(MEMORY_KEYS_KEY))}catch(error){}}();if(stored_keys){localStorage.setItem(MEMORY_KEYS_KEY,JSON.stringify(function(){var j,len,results;results=[];for(j=0,len=stored_keys.length;j<len;j++){k=stored_keys[j];if(key!==k){results.push(k)}}return results}()))}try{return localStorage.removeItem(key)}catch(error){}}};$(function(){var match;if(match=window.location.hash.match(/\bflash=([^&]*)/)){I.flash(match[1]);window.location.hash=window.location.hash.replace(/\bflash=([^&]*)/,"")}if(I.ie){return $(document.body).addClass("ie")}});I.Flasher=function(){Flasher.prototype.duration=1e4;Flasher.prototype.animation_duration=250;Flasher.prototype.clipping="-7px";function Flasher(){$(document).on("click",".global_flash",function(_this){return function(){return _this.dismiss()}}(this))}Flasher.prototype.dismiss=function(){var elm;if(elm=this.current_flash){if(this.timeout){clearTimeout(this.timeout);this.timeout=null}elm.css({"margin-top":"-"+(elm.outerHeight()+4)+"px"});return setTimeout(function(_this){return function(){return elm.remove()}}(this),this.animation_duration*2)}};Flasher.prototype.show=function(type,msg){var elm;this.dismiss();elm=$("<div class='global_flash "+type+"' role='alert' aria-live='polite'>").text(msg).appendTo("body");elm.css({"margin-left":"-"+elm.width()/2+"px","margin-top":"-"+(elm.outerHeight()+4)+"px"});this.timeout=setTimeout(function(_this){return function(){elm.addClass("animated");elm.css({"margin-top":_this.clipping});return setTimeout(function(){return _this.dismiss()},_this.duration)}}(this),100);return this.current_flash=elm};return Flasher}();I.InfiniteScroll=function(){InfiniteScroll.prototype.loading_element=".grid_loader";function InfiniteScroll(el){this.el=$(el);this.setup_loading()}InfiniteScroll.prototype.get_next_page=function(){return alert("override me")};InfiniteScroll.prototype.setup_loading=function(){var check_scroll_pos,win;this.loading_row=this.el.find(this.loading_element);if(!this.loading_row.length){return}win=$(window);check_scroll_pos=function(_this){return function(){if(_this.el.is(".loading")){return}if(win.scrollTop()+win.height()>=_this.loading_row.offset().top){return _this.get_next_page()}}}(this);win.on("scroll.browse_loader",check_scroll_pos);return check_scroll_pos()};InfiniteScroll.prototype.remove_loader=function(){$(window).off("scroll.browse_loader");return this.loading_row.remove()};return InfiniteScroll}();I.InfiniteGameGrid=function(superClass){extend(InfiniteGameGrid,superClass);function InfiniteGameGrid(){return InfiniteGameGrid.__super__.constructor.apply(this,arguments)}InfiniteGameGrid.prototype.method="post";InfiniteGameGrid.prototype.current_page=1;InfiniteGameGrid.prototype.get_next_page=function(){this.current_page+=1;this.el.addClass("loading");return $[this.method]("",{page:this.current_page,format:"json"},function(_this){return function(res){_this.el.removeClass("loading");if(res.num_items>0){return _this.grid.add_image_loading($(res.content).appendTo(_this.grid.el).hide().fadeIn())}else{return _this.remove_loader()}}}(this))};return InfiniteGameGrid}(I.InfiniteScroll);_.templateSettings={escape:/\{\{(?![&])(.+?)\}\}/g,interpolate:/\{\{&(.+?)\}\}/g,evaluate:/<%([\s\S]+?)%>/g};$.easing.smoothstep=function(t){return t*t*t*(t*(t*6-15)+10)}}).call(this);(function(){var show_images;$.fn.dispatch=function(event_type,table){this.on(event_type,function(_this){return function(e){var elm,fn,key,res;for(key in table){fn=table[key];elm=$(e.target).closest("."+key);if(!elm.length){continue}if(elm.is(".disabled")){return false}if(elm.is("a")&&e.ctrlKey){return}res=fn(elm,e);if(res==="continue"){return}return false}return null}}(this));return this};$.fn.exists=function(){if(this.length>0){return this}else{return false}};$.fn.format_timestamps=function(method){var el,fn1,j,len,ref;if(method==null){method="calendar"}ref=this.find(".date_format");fn1=function(el){var format,full_date,ts;format=el.data("format");full_date=el.html();ts=format?I.format_timestamp(full_date,"format",format):I.format_timestamp(full_date,method);return el.html(ts).attr("title",full_date+" UTC")};for(j=0,len=ref.length;j<len;j++){el=ref[j];fn1($(el))}return this};$.fn.has_tooltips=function(opts){var hide,refresh,show,show_tooltip,tooltip_drop,tooltip_template;if(opts==null){opts={}}if(I.is_mobile()){return}tooltip_drop=function(){var drop;drop=$('<div class="tooltip_drop"></div>');$(document.body).append(drop);tooltip_drop=function(){return drop};return drop};tooltip_template=_.template('<div class="tooltip">{{ label }}</div>');show_tooltip=function(tooltip_target,instant){var el,height,offset,width;if(instant==null){instant=false}el=tooltip_target.data("tooltip_el");if(!el){el=$(tooltip_template({label:tooltip_target.attr("aria-label")||tooltip_target.data("tooltip")}));tooltip_target.data("tooltip_el",el)}el.removeClass("visible");tooltip_drop().empty().append(el);offset=tooltip_target.offset();height=el.outerHeight();width=el.outerWidth();el.css({position:"absolute",top:opts.below?offset.top+tooltip_target.outerHeight()+10:offset.top-height-10,left:Math.floor(offset.left+(tooltip_target.outerWidth()-width)/2)});el.toggleClass("below",!!opts.below);if(instant){return el.addClass("visible")}else{return setTimeout(function(_this){return function(){return el.addClass("visible")}}(this),10)}};refresh=function(_this){return function(e){var el,tooltip_target;tooltip_target=$(e.currentTarget);el=tooltip_target.data("tooltip_el");tooltip_target.removeData("tooltip_el");if(!el){return}if(el.is(":visible")){return show_tooltip(tooltip_target,true)}}}(this);show=function(_this){return function(e){var tooltip_target;tooltip_target=$(e.currentTarget);if(tooltip_target.closest(".redactor-box").length){return}return show_tooltip(tooltip_target)}}(this);hide=function(_this){return function(e){var el,tooltip_target;tooltip_target=$(e.currentTarget);if(el=tooltip_target.data("tooltip_el")){return el.remove()}}}(this);if(this.is("[data-tooltip]")){this.on("i:refresh_tooltip",refresh);this.on("mouseenter focus",show);this.on("mouseleave blur i:hide_tooltip",hide)}else{this.on("i:refresh_tooltip","[data-tooltip], [aria-label]",refresh);this.on("i:clear_tooltips",function(){return tooltip_drop().empty()});this.on("mouseenter focus","[data-tooltip], [aria-label]",show);this.on("mouseleave blur i:hide_tooltip","[data-tooltip], [aria-label]",hide)}return this};$.fn.inline_edit=function(opts){var finished,input,save;if(opts==null){opts={}}if(this.is(".inline_editing")){this.data("finished_editing")();return}this.addClass("inline_editing");input=$('<input type="text" class="inline_edit_input" />').attr("placeholder",this.data("placeholder")).val((typeof opts.get_val==="function"?opts.get_val(this):void 0)||this.text()).insertAfter(this.hide()).select();finished=function(_this){return function(){input.remove();_this.show();$(document).off("click.inline_editing");return _this.removeClass("inline_editing")}}(this);this.data("finished_editing",finished);save=function(_this){return function(){input.prop("disabled",true);if(opts.set_val){return opts.set_val(_this,input.val(),finished)}else{_this.text(input.val());return finished()}}}(this);$(document).on("click.edit_title",function(_this){return function(e){if(!$(e.target).closest(".inline_edit_input").length){return save()}}}(this));return input.on("keydown",function(_this){return function(e){switch(e.keyCode){case 9:return _.defer(function(){return save()});case 13:return save();case 27:return finished()}}}(this))};I.support_passive_scroll=function(){var opts,supports;supports=false;try{opts=Object.defineProperty({},"passive",{get:function(_this){return function(){return supports=true}}(this)});window.addEventListener("test",null,opts)}catch(error){}return supports};I.support_intersection_observer=function(){return"IntersectionObserver"in window};show_images=function(item,make_promise){var cell,cells,fn1,images,img,j,len,ref;item.removeClass("lazy_images");cells=item.find("[data-background_image]").addBack("[data-background_image]");images=function(){var j,len,results;results=[];for(j=0,len=cells.length;j<len;j++){cell=cells[j];results.push(function(cell){var image_url;cell=$(cell);image_url=cell.data("background_image");cell.css({backgroundImage:"url("+image_url+")"});if(make_promise){return $.Deferred(function(_this){return function(d){return $("<img />").attr("src",image_url).on("load",function(){return d.resolve()})}}(this))}}(cell))}return results}();ref=item.find("img[data-lazy_src]").addBack("img[data-lazy_src]");fn1=function(img){var image_url,srcset;img=$(img);image_url=img.data("lazy_src");img.attr("src",image_url);if(srcset=img.data("lazy_srcset")){img.attr("srcset",srcset)}if(make_promise){return $.Deferred(function(_this){return function(d){return img.on("load",function(){return d.resolve()})}}(this))}};for(j=0,len=ref.length;j<len;j++){img=ref[j];fn1(img)}if(make_promise){if(images.length===1){return images[0]}else{return $.when.apply($,images)}}};$.fn.lazy_images=function(opts){var _show_images,check_images,el,handle_intersect,horizontal,io,j,lazy,len,ref,refresh,selector,target,throttled,unbind,win;if(refresh=this.data("lazy_images")){return refresh()}lazy=(opts!=null?opts.elements:void 0)?function(){var j,len,ref,results;ref=opts.elements;results=[];for(j=0,len=ref.length;j<len;j++){el=ref[j];results.push($(el))}return results}():(selector=(opts!=null?opts.selector:void 0)||".lazy_images",function(){var j,len,ref,results;ref=this.find(selector);results=[];for(j=0,len=ref.length;j<len;j++){el=ref[j];results.push($(el))}return results}.call(this));_show_images=(ref=opts!=null?opts.show_images:void 0)!=null?ref:show_images;if(I.support_intersection_observer()){handle_intersect=function(entities){var d,entity,j,len,on_show,results;results=[];for(j=0,len=entities.length;j<len;j++){entity=entities[j];if(entity.isIntersecting){el=entity.target;io.unobserve(el);el=$(el);on_show=opts!=null?opts.show_item:void 0;d=_show_images(el,!!on_show);results.push(typeof on_show==="function"?on_show(el,d):void 0)}else{results.push(void 0)}}return results};io=new IntersectionObserver(handle_intersect,{});for(j=0,len=lazy.length;j<len;j++){el=lazy[j];io.observe(el[0])}return function(){return io.disconnect()}}win=$(window);target=opts!=null?opts.target:void 0;horizontal=opts!=null?opts.horizontal:void 0;unbind=null;check_images=function(_this){return function(){var cuttoff,d,found,i,item,k,len1,on_show,position;cuttoff=function(){if(target){if(horizontal){return target.outerWidth()+target.position().left}else{throw new Error("not yet")}}else{return win.scrollTop()+win.height()}}();found=0;for(i=k=0,len1=lazy.length;k<len1;i=++k){item=lazy[i];if(!item){continue}if(!document.body.contains(item[0])){lazy[i]=null;found+=1;continue}position=function(){if(target){if(horizontal){return item.position().left}else{throw new Error("not yet")}}else{return item.offset().top}}();if(!item[0].offsetParent){continue}if(position<cuttoff){on_show=opts!=null?opts.show_item:void 0;d=_show_images(item,!!on_show);if(typeof on_show==="function"){on_show(item,d)}found+=1;lazy[i]=null}}if(found>0){return lazy=function(){var l,len2,results;results=[];for(l=0,len2=lazy.length;l<len2;l++){el=lazy[l];if(el){results.push(el)}}return results}()}}}(this);throttled=_.throttle(check_images,100);if(target){target.on("scroll",throttled);win.on("resize",throttled);unbind=function(){target.off("scroll",throttled);return win.off("resize","throttled")}}else{if(I.support_passive_scroll()){window.addEventListener("scroll",throttled,{passive:true});win.on("resize i:reshape",throttled);unbind=function(){window.removeEventListener("scroll",throttled,{passive:true});return win.off("resize",throttled)}}else{win.on("scroll resize i:reshape",throttled);unbind=function(){return win.off("scroll resize i:reshape",throttled)}}}this.data("lazy_images",function(_this){return function(){lazy=(opts!=null?opts.elements:void 0)?function(){var k,len1,ref1,results;ref1=opts.elements;results=[];for(k=0,len1=ref1.length;k<len1;k++){el=ref1[k];results.push($(el))}return results}():(selector=(opts!=null?opts.selector:void 0)||".lazy_images",function(){var k,len1,ref1,results;ref1=this.find(selector);results=[];for(k=0,len1=ref1.length;k<len1;k++){el=ref1[k];results.push($(el))}return results}.call(_this));return check_images()}}(this));check_images();return unbind};$.fn.max_height=function(margin){var padding,set_height,win;if(margin==null){margin=0}win=$(window);padding=this.outerHeight(true)-this.height();set_height=function(_this){return function(){return _this.css("min-height",win.height()-padding-margin+"px")}}(this);win.on("resize",set_height);return set_height()};$.fn.remote_link=function(fn){return this.on("click","[data-remote]",function(_this){return function(e){var confirm_msg,el,href,method,params;e.preventDefault();el=$(e.currentTarget);if(el.is(".loading")){return}method=el.data("method")||"POST";params=I.with_csrf($.extend({},el.data("params")));href=el.data("href")||el.attr("href");if(confirm_msg=el.data("confirm")){if(!confirm(confirm_msg)){return}}el.addClass("loading").prop("disabled",true);$.ajax({type:method,url:href,data:params,xhrFields:{withCredentials:true}}).done(function(res){el.removeClass("loading").prop("disabled",false);return typeof fn==="function"?fn(res,el):void 0});return null}}(this))};$.fn.remote_submit=function(fn,validate_fn,more_data){var click_input;click_input=null;this.on("click","button[name], input[type='submit'][name]",function(_this){return function(e){var btn;btn=$(e.currentTarget);if(click_input!=null){click_input.remove()}return click_input=$("<input type='hidden' />").attr("name",btn.attr("name")).val(btn.attr("value")).prependTo(_this)}}(this));return this.on("submit",function(_this){return function(e,callback){var form;e.preventDefault();form=$(e.currentTarget);if(validate_fn){if(!(typeof validate_fn==="function"?validate_fn(form):void 0)){return}}I.remote_submit(form,more_data).done(function(res){form.data("dirty",false);if(callback!=null){return callback(res,form)}else{return fn(res,form)}});return null}}(this))};$.fn.remote_table=function(){var current_page,fill_page,max_page,xhr_cache;max_page=this.data("max_page");current_page=function(_this){return function(){return _this.data("page")||1}}(this);xhr_cache={};fill_page=function(_this){return function(page_num){var table,xhr;if(_this.is(".loading")){return}if(!(1<=page_num&&page_num<=max_page)){return}table=_this.find("table");_this.addClass("loading").data("page",page_num).toggleClass("first_page",page_num===1).toggleClass("last_page",page_num===max_page).find(".current_page").text(page_num);xhr=xhr_cache[page_num]||(xhr_cache[page_num]=$.get(_this.data("remote_url")+"?"+$.param({page:page_num})));return xhr.done(function(res){_this.removeClass("loading");return table.html(res.content)})}}(this);return this.dispatch("click",{next_page_btn:function(_this){return function(){return fill_page(current_page()+1)}}(this),prev_page_btn:function(_this){return function(){return fill_page(current_page()-1)}}(this)})};$.fn.set_form_errors=function(errors,scroll_to,msg){var base,e,errors_el,errors_list,has_errors,j,len,lightbox;if(scroll_to==null){scroll_to=true}if(msg==null){msg="Errors"}this.find(".form_errors").remove();has_errors=!!(errors!=null?errors.length:void 0);this.toggleClass("has_errors",has_errors);if(has_errors){errors_el=$(_.template('<div class="form_errors">\n  <div>{{ msg }}:</div>\n  <ul></ul>\n</div>')({msg:msg}));errors_list=errors_el.find("ul");for(j=0,len=errors.length;j<len;j++){e=errors[j];errors_list.append($("<li></li>").text(e))}this.prepend(errors_el);if(scroll_to){lightbox=this.closest(".lightbox");if(lightbox.length||this.offset().top>$(window).height()/2){if(typeof(base=this[0]).scrollIntoView==="function"){base.scrollIntoView()}}else{$("html, body").animate({scrollTop:0},"fast")}}}return this};$.fn.swap_with=function(other){var new_offset,offset,other_new_offset,other_offset,other_placeholder,other_tag_name,placeholder,tag_name;other=$(other);if(!(this.length&&other.length)){return}offset=this.offset();other_offset=other.offset();tag_name=this.prop("tagName");other_tag_name=other.prop("tagName");placeholder=$("<"+tag_name+"></"+tag_name+">").insertAfter(this);other_placeholder=$("<"+other_tag_name+"></"+other_tag_name+">").insertAfter(other);placeholder.after(other);other_placeholder.after(this);new_offset=this.offset();other_new_offset=other.offset();other_placeholder.replaceWith(this.detach().css({position:"relative",top:offset.top-new_offset.top+"px",left:offset.left-new_offset.left+"px"}));placeholder.replaceWith(other.detach().css({position:"relative",top:other_offset.top-other_new_offset.top+"px",left:other_offset.left-other_new_offset.left+"px"}));return _.defer(function(_this){return function(){_this.css({top:"",left:""});return other.css({top:"",left:""})}}(this))}}).call(this);(function(){var _hex_piece,hex_color,hsl_to_rgb,luma,mix_color,parse_color,parse_color_safe,readable_text_color,relative_luma,rgb_helper,rgb_to_hsl,rgb_to_yuv,scale_luma,sub_color,sub_color2,yuv_to_rgb,slice=[].slice;rgb_helper=function(comp,temp1,temp2){if(comp<0){comp+=1}else if(comp>1){comp-=1}if(6*comp<1){return temp1+(temp2-temp1)*6*comp}else if(2*comp<1){return temp2}else if(3*comp<2){return temp1+(temp2-temp1)*(2/3-comp)*6}else{return temp1}};hsl_to_rgb=function(h,s,l){var b,g,r,temp1,temp2;h=h/360;s=s/100;l=l/100;if(s===0){r=l;g=l;b=l}else{temp2=l<.5?l*(1+s):l+s-l*s;temp1=2*l-temp2;r=rgb_helper(h+1/3,temp1,temp2);g=rgb_helper(h,temp1,temp2);b=rgb_helper(h-1/3,temp1,temp2)}return[r*255,g*255,b*255]};rgb_to_hsl=function(r,g,b){var h,l,max,min,s;r=r/255;g=g/255;b=b/255;min=Math.min(r,g,b);max=Math.max(r,g,b);s=0;h=0;l=(min+max)/2;if(min!==max){s=l<.5?(max-min)/(max+min):(max-min)/(2-max-min);h=function(){switch(max){case r:return(g-b)/(max-min);case g:return 2+(b-r)/(max-min);case b:return 4+(r-g)/(max-min)}}()}if(h<0){h+=6}return[h*60,s*100,l*100]};parse_color=function(){var _,b,g,hex,hexhex,m,r,rest,six,str,three;str=arguments[0],rest=2<=arguments.length?slice.call(arguments,1):[];hex="[a-fA-f0-9]";hexhex=hex+hex;three="^#("+hex+")("+hex+")("+hex+")$";six="^#("+hexhex+")("+hexhex+")("+hexhex+")$";m=str.match(new RegExp(three));if(m){_=m[0],r=m[1],g=m[2],b=m[3];r+=r;g+=g;b+=b}else{m=str.match(new RegExp(six));if(!m){return null}_=m[0],r=m[1],g=m[2],b=m[3]}return[parseInt(r,16),parseInt(g,16),parseInt(b,16)]};parse_color_safe=function(){var color;color=parse_color.apply(null,arguments);return color||[0,0,0]};_hex_piece=function(i){var hex;hex=Math.floor(i).toString(16);if(hex.length===1){return"0"+hex}else{return hex}};hex_color=function(r,g,b){r=Math.min(255,Math.max(0,r));g=Math.min(255,Math.max(0,g));b=Math.min(255,Math.max(0,b));return"#"+_hex_piece(r)+_hex_piece(g)+_hex_piece(b)};sub_color=function(color,delta,sat_mul){var h,l,new_l,ref,s;if(delta==null){delta=15}if(sat_mul==null){sat_mul=.8}ref=rgb_to_hsl.apply(null,parse_color_safe(color)),h=ref[0],s=ref[1],l=ref[2];new_l=l>50?l-delta:l+delta;new_l=Math.max(0,Math.min(100,new_l));return hex_color.apply(null,hsl_to_rgb(h,s*sat_mul,new_l))};luma=function(r,g,b){return(.299*r+.587*g+.114*b)/255};relative_luma=function(r,g,b){r=r/255;g=g/255;b=b/255;r=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4);g=g<=.03928?g/12.92:Math.pow((g+.055)/1.055,2.4);b=b<=.03928?b/12.92:Math.pow((b+.055)/1.055,2.4);return.2126*r+.7152*g+.0722*b};rgb_to_yuv=function(r,g,b){var u,v,y;y=.299*r+.587*g+.114*b;u=(b-y)*.565;v=(r-y)*.713;return[y,u,v]};yuv_to_rgb=function(y,u,v){var b,g,r;r=y+1.403*v;g=y-.344*u-.714*v;b=y+1.77*u;return[r,g,b]};scale_luma=function(r,g,b,p){var ref,u,v,y;if(p==null){p=.1}ref=rgb_to_yuv(r,g,b),y=ref[0],u=ref[1],v=ref[2];if(p<0){y+=p*y}else{y+=p*(255-y)}return yuv_to_rgb(y,u,v)};readable_text_color=function(r,g,b){var ref,y;if(typeof r==="string"){ref=parse_color_safe(r),r=ref[0],g=ref[1],b=ref[2]}y=relative_luma(r,g,b);if(y>=.45){return mix_color(hex_color(r,g,b),"#000000",.2)}else{return"#ffffff"}};sub_color2=function(color,delta,threshold){var b,g,l,r,ref;if(delta==null){delta=.15}if(threshold==null){threshold=.5}ref=parse_color_safe(color),r=ref[0],g=ref[1],b=ref[2];l=luma(r,g,b);if(l<threshold){return hex_color.apply(null,scale_luma(r,g,b,delta))}else{return hex_color.apply(null,scale_luma(r,g,b,-delta))}};mix_color=function(a,b,amount){var amount_i,b1,b2,g1,g2,r1,r2,ref,ref1;if(amount===1){return a}if(amount===0){return b}ref=parse_color_safe(a),r1=ref[0],g1=ref[1],b1=ref[2];ref1=parse_color_safe(b),r2=ref1[0],g2=ref1[1],b2=ref1[2];amount_i=1-amount;return hex_color(r1*amount+r2*amount_i,g1*amount+g2*amount_i,b1*amount+b2*amount_i)};I.Color={hsl_to_rgb:hsl_to_rgb,rgb_to_hsl:rgb_to_hsl,parse_color:parse_color,parse_color_safe:parse_color_safe,hex_color:hex_color,sub_color:sub_color,luma:luma,relative_luma:relative_luma,rgb_to_yuv:rgb_to_yuv,yuv_to_rgb:yuv_to_rgb,scale_luma:scale_luma,readable_text_color:readable_text_color,sub_color2:sub_color2,mix_color:mix_color}}).call(this);(function(){var slice=[].slice;I.theme_template_scope={first:function(a,b,c,d){var ref,ref1;return(ref=(ref1=a!=null?a:b)!=null?ref1:c)!=null?ref:slice.call(arguments).find(function(_this){return function(v){return v!=null}}(this))},when:function(_this){return function(val,expected,ret,other){if(val===expected){return ret}else{return other}}}(this),sub_color2:I.Color.sub_color2,sub_color:I.Color.sub_color,mix_color:I.Color.mix_color,alpha:function(color,a){var b,g,r,ref;ref=I.Color.parse_color_safe(color),r=ref[0],g=ref[1],b=ref[2];return"rgba("+r+", "+g+", "+b+", "+a+")"},bg_color_for_input:function(color){var bg_sub,l,p,ref;bg_sub=I.Color.sub_color2(color,.1);l=(ref=I.Color).luma.apply(ref,I.Color.parse_color_safe(color));p=Math.min(1,Math.max(0,(l-.5)*2));return I.Color.mix_color("#ffffff",bg_sub,p)},text_color_for_bg:function(color){return I.Color.readable_text_color(color)},text_shadow_color_for_bg:function(color){var ref,y;y=(ref=I.Color).relative_luma.apply(ref,I.Color.parse_color_safe(color));if(y>=.45){return"transparent"}else{return I.Color.sub_color2(color)}}}}).call(this);(function(){var bind=function(fn,me){return function(){return fn.apply(me,arguments)}},extend=function(child,parent){for(var key in parent){if(hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},hasProp={}.hasOwnProperty;I.BaseBuyForm=function(){BaseBuyForm.prototype.event_category="buy_form";BaseBuyForm.prototype.pay_in_popup=false;BaseBuyForm.prototype.min_price=100;function BaseBuyForm(el,opts1){var medium,source;this.opts=opts1!=null?opts1:{};this.billing_address_valid=bind(this.billing_address_valid,this);this.show_billing_address_form=bind(this.show_billing_address_form,this);this.show_vat_form=bind(this.show_vat_form,this);this.submit_handler=bind(this.submit_handler,this);this.checkout_btn_handler=bind(this.checkout_btn_handler,this);this.set_fingerprint=bind(this.set_fingerprint,this);this.el=$(el);this.el.find("input[name=csrf_token][value='']").val($("meta[name=csrf_token]").attr("value"));this.form=this.el.find("form");this.opts=$.extend({},this.form.data("opts"),this.opts);this.set_fingerprint();this.input=this.form.find("input.money_input");if(this.input.length){I.money_input(this.input)}this.form.on("submit",function(_this){return function(){return _this.submit_handler.apply(_this,arguments)}}(this));this.el.dispatch("click",{add_btn:function(_this){return function(btn){var amount;amount=+btn.attr("data-amount");_this.track_add_btn(amount);_this.input.val(I.format_money(_this.get_value()+amount,_this.get_currency()));return _this.update_items()}}(this),billing_back_btn:function(_this){return function(){_this.form.find(".checkout_btn").prop("disabled",false);return _this.form.removeClass("show_billing_address_form")}}(this),vat_back_btn:function(_this){return function(){_this.form.removeClass("show_vat_confirm");return _this.show_billing_address_form()}}(this),direct_download_btn:function(_this){return function(){return _this.direct_download()}}(this),save_billing_btn:function(_this){return function(e){if(!_this.billing_address_valid()){return}if(_this.opts.collect_vat){return _this.show_vat_form()}else{return _this.form.submit()}}}(this),confirm_vat_btn:function(_this){return function(e){return _this.form.submit()}}(this)});this.el.on("click",".checkout_btn",function(_this){return function(e){return _this.checkout_btn_handler(e)}}(this));this.el.format_timestamps();if(source=this.opts.pick_source){medium=this.opts.pick_medium||"default";this.el.find("[data-source='"+source+"'][data-medium='"+medium+"']").click()}}BaseBuyForm.prototype.set_fingerprint=function(){if(!window.Fingerprint2){return false}this.set_fingerprint=function(){};return(new Fingerprint2).get(function(_this){return function(res){if(res){return _this.form.find(".bp_input").val(res)}}}(this))};BaseBuyForm.prototype.checkout_btn_handler=function(e){var source;source=this.set_source(e);if(this.opts.collect_billing_address){if(this.is_valid()){this.show_billing_address_form()}return false}};BaseBuyForm.prototype.submit_handler=function(){if(!this.is_valid()){return false}if(this.form.attr("target")==="_blank"){return this.form.removeClass("show_vat_confirm show_billing_address_form").addClass("show_purchase_complete")}};BaseBuyForm.prototype.show_vat_form=function(){var country,inputs,price;if(!this.form.is(".show_billing_address_form")){throw"billing form not visible"}inputs=this.form.addClass("loading").find(".billing_address_view").find("input[type='text'], select, button");inputs.prop("disabled",true);price=this.form.find("[name='price']").val();country=this.form.find("[name='address[country]']").val();return $.ajax({type:"GET",url:this.opts.tax_preview_url,data:{sub_product_id:this.opts.sub_product_id,price:price,country:country},async:false}).then(function(_this){return function(res){var error,f,field,i,len,ref,vat_preview;inputs.prop("disabled",false);_this.form.removeClass("loading has_vat_error");if(res.errors){error=res.errors[0];switch(error){case"country mismatch":I.event(_this.event_category,"vat","country_mismatch");_this.form.removeClass("show_billing_address_form").addClass("show_vat_confirm has_vat_error");break;default:I.event(_this.event_category,"error",JSON.stringify(res.errors));_this.form.find(".generic_error_description").text(res.errors[0]);_this.form.removeClass("show_billing_address_form").addClass("show_vat_confirm has_generic_error")}return}if(!res.rate||res.tax===0){_this.form.submit();return}_this.form.removeClass("show_billing_address_form").addClass("show_vat_confirm");if(!_this._seen_vat){I.event(_this.event_category,"vat","show_tax_preview");_this._seen_vat=true}vat_preview=_this.form.find(".vat_view");ref=vat_preview.find("[data-field]");for(i=0,len=ref.length;i<len;i++){field=ref[i];f=$(field);f.text(res[f.data("field")]||"")}return vat_preview.toggleClass("no_tip",!res.tip||res.tip===0)}}(this))};BaseBuyForm.prototype.show_billing_address_form=function(){if(!this._seen_billing){I.event(this.event_category,"vat","show_billing");this._seen_billing=true}this.form.find(".checkout_btn").prop("disabled",true);return this.form.addClass("show_billing_address_form")};BaseBuyForm.prototype.set_source=function(e){var btn,medium,source;btn=$(e.currentTarget).closest(".checkout_btn");if(!btn.length){btn=(this._checkout_btns||(this._checkout_btns=this.form.find(".checkout_btn"))).first()}source=btn.data("source");(this._source_input||(this._source_input=this.form.find(".source_input"))).val(source);medium=btn.data("medium");(this._medium_input||(this._medium_input=this.form.find(".medium_input"))).val(medium||"");return source};BaseBuyForm.prototype.set_loading=function(is_loading){this.form.toggleClass("loading",is_loading);this.el.toggleClass("loading",is_loading);this.input.prop("disabled",is_loading);(this.add_buttons||(this.add_buttons=this.form.find(".add_btn"))).toggleClass("disabled",is_loading);return this.el.triggerHandler("i:loading",is_loading)};BaseBuyForm.prototype.has_money_input=function(){return!!this.input.length};BaseBuyForm.prototype.get_value=function(){return I.parse_money(this.input.val())};BaseBuyForm.prototype.get_currency=function(){return this.input.data("currency")};BaseBuyForm.prototype._clean_error_message=function(msg){if(msg==="paypal failed"){msg="Failed to create PayPal transaction, please try again later."}return msg};BaseBuyForm.prototype.set_error=function(msg){msg=this._clean_error_message(msg);this.error_text||(this.error_text=this.el.find(".error_text"));if(msg){this.form.addClass("has_error");return this.error_text.text(msg)}else{return this.form.removeClass("has_error")}};BaseBuyForm.prototype.remote_submit=function(e){var data,popup,ref;if(!this.is_valid()){return false}data=this.form.serializeArray();data.push({name:"json",value:"true"});this.set_loading(true);this.track_remote_submit();if(this.pay_in_popup){popup=window.open();if((ref=popup.document)!=null){ref.write("Loading...")}_.defer(function(_this){return function(){var ref1;return(ref1=popup.document)!=null?ref1.title="Loading...":void 0}}(this))}this.el.trigger("i:buy_start",[data]);$.ajax({url:this.form.attr("action"),type:"POST",data:data,xhrFields:{withCredentials:true},success:function(_this){return function(res){if(res.url){if(popup){popup.location=res.url;_this.set_loading(false)}else{window.top.location=res.url}return _this.el.trigger("i:buy_complete",[res])}else{if(popup){popup.close()}_this.form.removeClass("show_billing_address_form show_vat_confirm");_this.set_error(res.errors.join(","));return _this.set_loading(false)}}}(this)});return false};BaseBuyForm.prototype.is_valid=function(){var value;if(this.has_money_input()){value=this.get_value();if(value<this.min_price){this.set_error("Due to processing fees the minimum amount is 100 cents.");return false}}this.set_error();return true};BaseBuyForm.prototype.billing_address_valid=function(){return this.el.find(".billing_address_form_widget").data("object").check_valid()};BaseBuyForm.prototype.track_add_btn=function(amount){};BaseBuyForm.prototype.track_remote_submit=function(){};BaseBuyForm.prototype.update_items=function(){};return BaseBuyForm}();I.BuyForm=function(superClass){extend(BuyForm,superClass);BuyForm.prototype.download_url=function(){if(I.subdomain){return"/"+this.game.slug+"/download_url"}else{return"/game/download_url/"+this.game.id}};BuyForm.prototype.track_add_btn=function(amount){return I.event(this.event_category,"add_"+amount,""+this.game.id)};BuyForm.prototype.track_remote_submit=function(){return I.event(this.event_category,"purchase",""+this.game.id,this.get_value())};function BuyForm(el,game1,opts){var ref;this.game=game1;this.setup_filelist=bind(this.setup_filelist,this);this.download_url=bind(this.download_url,this);BuyForm.__super__.constructor.call(this,el,opts);this.setup_filelist();this.pay_in_popup=(ref=opts!=null?opts.pay_in_popup:void 0)!=null?ref:this.game.type_name!=="default";if(!this.pay_in_popup){this.pay_in_popup="_blank"===$("base[target]").attr("target")}}BuyForm.prototype.update_items=function(){var file,files,i,len,min,ref,results,val;if(!((ref=this.file_list)!=null?ref.length:void 0)){return}val=val||this.get_value();files=this.file_list.find(".file_row");results=[];for(i=0,len=files.length;i<len;i++){file=files[i];file=$(file);min=file.data("min_price");results.push(file.toggleClass("inactive",!!(min&&val<min)))}return results};BuyForm.prototype.setup_filelist=function(){this.file_list=this.el.find(".file_list");if(!this.file_list.length){return}this.el.on("keyup blur",".money_input",function(_this){return function(){return _this.update_items()}}(this));this.file_list.on("click",".inactive",function(_this){return function(e){var min,row;I.event(_this.event_category,"pick_file",""+_this.game.id);row=$(e.currentTarget);min=row.data("min_price");if(min){_this.el.trigger("i:show_checkout");_this.input.val(I.format_money(min,_this.get_currency()));return _this.update_items()}}}(this));this.el.find(".file_size_value").html(function(){return I.format_bytes(parseInt($(this).html(),10))});return this.update_items()};BuyForm.prototype.direct_download=function(){var popup;I.event(this.event_category,"skip_buy",""+this.game.id);this.set_loading(true);if(this.pay_in_popup){popup=window.open();popup.document.write("Loading...");_.defer(function(_this){return function(){return popup.document.title="Loading..."}}(this))}return $.ajax({url:this.download_url(),type:"POST",xhrFields:{withCredentials:true},data:I.with_csrf({reward_id:this.opts.reward_id}),success:function(_this){return function(res){if(res.url){if(popup){popup.location=res.url;return _this.set_loading(false)}else{return window.top.location=res.url}}else{_this.set_error("There was an error generating the download URL, please try again.");return _this.set_loading(false)}}}(this)})};BuyForm.prototype.is_valid=function(){var formatted,value;if(this.has_money_input()){value=this.get_value();if(!this.opts.is_donate){if(value===0&&this.game.actual_price===0){this.set_error();this.direct_download();return false}if(value<this.game.actual_price){formatted=I.format_money(this.game.actual_price,this.get_currency());this.set_error("You must pay at least "+formatted+".");return false}}}if(!BuyForm.__super__.is_valid.apply(this,arguments)){return}return true};return BuyForm}(I.BaseBuyForm);I.BundleBuyForm=function(superClass){extend(BundleBuyForm,superClass);BundleBuyForm.prototype.event_category="bundle_buy_form";function BundleBuyForm(el,bundle,opts){this.bundle=bundle;this.setup_gamelist=bind(this.setup_gamelist,this);this.download_url=bind(this.download_url,this);BundleBuyForm.__super__.constructor.call(this,el,opts);this.setup_gamelist()}BundleBuyForm.prototype.download_url=function(){return"/bundle/"+this.bundle.id+"/download_url"};BundleBuyForm.prototype.direct_download=function(){I.event(this.event_category,"skip_buy",""+this.bundle.id);this.set_loading(true);return $.ajax({url:this.download_url(),type:"POST",xhrFields:{withCredentials:true},data:I.with_csrf(),success:function(_this){return function(res){if(res.url){return window.top.location=res.url}else{_this.set_error("There was an error generating the download URL, please try again.");return _this.set_loading(false)}}}(this)})};BundleBuyForm.prototype.setup_gamelist=function(){this.game_list=this.el.find(".game_list");if(!this.game_list.length){return}this.el.on("keyup blur",".money_input",function(_this){return function(){return _this.update_items()}}(this));this.game_list.on("click",".inactive",function(_this){return function(e){var min,row;I.event(_this.event_category,"pick_game",""+_this.bundle.id);row=$(e.currentTarget);min=row.data("min_price");if(min){_this.el.trigger("i:show_checkout");_this.input.val(I.format_money(min,_this.get_currency()));return _this.update_items()}}}(this));return this.update_items()};BundleBuyForm.prototype.update_items=function(){var available,count,game,games,header_drop,i,len,min,ref,val;if(!((ref=this.game_list)!=null?ref.length:void 0)){return}val=this.get_value();games=this.game_list.find(".game_row");count=0;for(i=0,len=games.length;i<len;i++){game=games[i];game=$(game);min=game.data("min_price");available=!(min&&val<min);game.toggleClass("inactive",!available);if(available){count+=1}}header_drop=this.el.find(".game_list_header_drop")[0];if(header_drop){return ReactDOM.render(R.BundleBuyForm.AvailableItems({tiers:this.bundle.tiers,group_noun:this.bundle.group_noun,price:val,currency:this.get_currency()}),header_drop)}};BundleBuyForm.prototype.is_valid=function(){var formatted,value;value=this.get_value();if(value<this.bundle.actual_price){formatted=I.format_money(this.bundle.actual_price,this.get_currency());this.set_error("You must pay at least "+formatted+".");return false}if(!BundleBuyForm.__super__.is_valid.apply(this,arguments)){return}return true};return BundleBuyForm}(I.BaseBuyForm);I.BuyPopup=function(superClass){extend(BuyPopup,superClass);function BuyPopup(){BuyPopup.__super__.constructor.apply(this,arguments);this.check_height();this.pay_in_popup=false}BuyPopup.prototype.check_height=function(){var missing_y,padding,win;padding=32;win=$(window);missing_y=$(document.body).height()+padding-$(window).height();if(missing_y>0){return window.resizeTo(window.outerWidth,window.outerHeight+missing_y)}};return BuyPopup}(I.BuyForm);I.BillingAddressForm=function(){function BillingAddressForm(el){this.check_valid=bind(this.check_valid,this);var country,input;this.el=$(el);this.el.data("object",this);country=this.el.find("[data-country_value]");if(country.length){input=country.find("select");input.find("[value='"+country.data("country_value")+"']").prop("selected",true)}}BillingAddressForm.prototype.check_valid=function(){var i,input,len,pat,pattern,ref,val,valid;ref=this.el.find("input[required]");for(i=0,len=ref.length;i<len;i++){input=ref[i];input=$(input);val=input.val();input.toggleClass("has_error",!!val.match(/^\s*$/));if(pattern=input.attr("pattern")){pat=new RegExp("^"+pattern+"$");input.toggleClass("has_error",!val.match(pat))}}valid=this.el.find(".has_error").length===0;this.el.toggleClass("has_errors",!valid);return valid};return BillingAddressForm}()}).call(this);(function(){var slice=[].slice,extend=function(child,parent){for(var key in parent){if(hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},hasProp={}.hasOwnProperty;I.Lightbox=function(){Lightbox.include_dependencies=function(deps){var deferreds;if(!deps){return[]}deferreds=[];if(deps.redactor&&!$.fn.redactor){$("head").append(deps.redactor);deferreds.push(I.libs.redactor)}if(deps.selectize&&!$.fn.selectize){$("head").append(deps.selectize);deferreds.push(I.libs.selectize)}return deferreds};Lightbox.lightbox_container=function(){return this._container||(this._container=$("#lightbox_container").exists()||$('<div id="lightbox_container"></div>').appendTo("body"))};Lightbox.shroud_container=function(){return this._shroud||(this._shroud=$("#lightbox_shroud").exists()||$('<div id="lightbox_shroud"></div>').appendTo("body"))};Lightbox.show_shroud=function(){var shroud;if(this.shroud_visible){return}if(!this._shroud){shroud=this.shroud_container();this.lightbox_container().on("click",function(_this){return function(e){if(!$(e.target).closest(".lightbox").length){if($(e.target).attr("href")==="javascript:void(0)"){return}return _this.close()}}}(this));shroud.on("click",function(_this){return function(){return _this.close()}}(this));$(document.body).on("keydown",function(_this){return function(e){if(e.keyCode===27){e.preventDefault();e.stopPropagation();return _this.close()}else{return _this.on_keydown(e)}}}(this));$(window).on("resize",function(_this){return function(e){return _this.on_resize(e)}}(this))}this.shroud_visible=true;this.shroud_container().addClass("invisible").show();return _.defer(function(_this){return function(){return _this.shroud_container().removeClass("invisible")}}(this))};Lightbox.hide_shroud=function(){this.shroud_visible=false;return this.shroud_container().hide()};Lightbox.open_loading=function(){return this.open_tpl("loading_lightbox",I.Lightbox)};Lightbox.open_remote_react=function(url,init){this.open_loading();return $.when(I.add_react(),$.ajax({dataType:"json",url:url,data:{props:true},xhrFields:{withCredentials:true},error:function(_this){return function(xhr,message,error){var errors,ref,res;res=function(){try{return JSON.parse(xhr.responseText)}catch(error1){}}();errors=(ref=res!=null?res.errors:void 0)!=null?ref:["Something went wrong. Please try again later and contact support if it persists."];if(R.ErrorLightbox){return I.Lightbox.open(R.ErrorLightbox({errors:errors}))}else{alert(props.errors.join(","));return _this.close()}}}(this)})).done(function(_this){return function(res,arg){var deferreds,props;props=arg[0];if(props.errors){if(R.ErrorLightbox){I.Lightbox.open(R.ErrorLightbox(props))}else{alert(props.errors.join(","));_this.close()}return}deferreds=I.Lightbox.include_dependencies(props._dependencies);return $.when.apply($,[init(props)].concat(slice.call(deferreds))).then(function(lb){if(lb){return I.Lightbox.open(lb)}else{return _this.close()}})}}(this))};Lightbox.open_remote=function(){var T,args,url;url=arguments[0],T=arguments[1],args=3<=arguments.length?slice.call(arguments,2):[];if(T==null){T=I.Lightbox}this.open_loading();return $.ajax({dataType:"json",url:url,data:{lightbox:true},xhrFields:{withCredentials:true},success:function(_this){return function(res){if(res.errors){alert(res.errors.join(","));_this.close();return}return _this.open.apply(_this,[res.content,T].concat(slice.call(args)))}}(this),error:function(_this){return function(xhr,message,error){alert("Something went wrong. Please try again later and contact support if it persists.");return _this.close()}}(this)})};Lightbox.open_tpl=function(){var args,el,tpl;tpl=arguments[0],args=2<=arguments.length?slice.call(arguments,1):[];el=$("#"+tpl+"_tpl");if(!el.length){throw"missing template for lightbox: "+tpl}return this.open.apply(this,[el.html()].concat(slice.call(args)))};Lightbox.open_tpl_with_params=function(){var args,el,html,params,tpl;tpl=arguments[0],params=arguments[1],args=3<=arguments.length?slice.call(arguments,2):[];el=$("#"+tpl+"_tpl");if(!el.length){throw"missing template for lightbox: "+tpl}html=_.template(el.html())(params);return this.open.apply(this,[html].concat(slice.call(args)))};Lightbox.open=function(){var T,args,content,lightbox,lightbox_el,new_obj;content=arguments[0],T=arguments[1],args=3<=arguments.length?slice.call(arguments,2):[];if(T==null){T=I.Lightbox}if(this.current_lightbox){this.current_lightbox.close();this.current_lightbox=null}new_obj=false;if(content.$$typeof){new_obj=true;lightbox=new I.ReactLightbox(content,this)}else{if("string"===typeof content){content=$.trim(content)}lightbox_el=$(content);if(!(lightbox=lightbox_el.data("object"))){new_obj=true;lightbox=function(func,args,ctor){ctor.prototype=func.prototype;var child=new ctor,result=func.apply(child,args);return Object(result)===result?result:child}(T,[lightbox_el,this].concat(slice.call(args)),function(){});lightbox_el.data("object",lightbox)}}$(document.body).addClass("lightbox_open");this.show_shroud();lightbox.show(new_obj);this.current_lightbox=lightbox;return lightbox};Lightbox.close=function(){var ref;if(this.current_lightbox&&!this.current_lightbox.is_closable()){return}if(this.current_lightbox&&this.current_lightbox.el.is(".has_changes")){if(!confirm("You've have unsaved changes in this dialog. Are you sure you want to close it?")){return}}this.hide_shroud();if((ref=this.current_lightbox)!=null){ref.close()}this.current_lightbox=null;return $(document.body).removeClass("lightbox_open")};Lightbox.on_keydown=function(e){var ref,ref1;return(ref=this.current_lightbox)!=null?(ref1=ref.el)!=null?ref1.trigger("i:lightbox_keydown",e):void 0:void 0};Lightbox.on_resize=function(e){var ref,ref1;return(ref=this.current_lightbox)!=null?(ref1=ref.el)!=null?ref1.trigger("i:lightbox_resize",e):void 0:void 0};Lightbox.prototype.lightbox_hidden=function(lb){};function Lightbox(){var el,parent1,rest;el=arguments[0],parent1=arguments[1],rest=3<=arguments.length?slice.call(arguments,2):[];this.parent=parent1;this.el=$(el);this.el.on("click",".close_button, .close_btn",function(_this){return function(e){I.Lightbox.close();return false}}(this));this.init.apply(this,rest)}Lightbox.prototype.init=function(){};Lightbox.prototype.first_show=function(){};Lightbox.prototype.with_selectize=function(fn){var html;if(!$.fn.selectize){html=this.el.data().selectize;if(!html){throw"missing selectize include in lightbox"}$("head").append(html)}return I.with_selectize(fn)};Lightbox.prototype.with_redactor=function(fn){var html;if(!$.fn.redactor){html=this.el.data().redactor;if(!html){throw"missing redactor include in lightbox"}$("head").append(html)}return I.with_redactor(fn)};Lightbox.prototype.show=function(first_time){var el,i,len,ref;this.el.appendTo(this.parent.lightbox_container()).addClass("animated").show().trigger("i:lightbox_open");this.position();if(first_time){ref=this.el.find("[data-js_init]");for(i=0,len=ref.length;i<len;i++){el=ref[i];eval($(el).data("js_init"))}return this.first_show()}};Lightbox.prototype.close=function(){return this.el.removeClass("animated").hide().trigger("i:lightbox_close").remove()};Lightbox.prototype.position=function(){var top;top="fixed"===this.parent.lightbox_container().css("position")?"":$(window).scrollTop()+"px";return this.el.css({top:top})};Lightbox.prototype.closable=true;Lightbox.prototype.is_closable=function(){return this.closable};return Lightbox}();I.ReactLightbox=function(superClass){extend(ReactLightbox,superClass);function ReactLightbox(){var component,el,parent,rest,wrapper;component=arguments[0],parent=arguments[1],rest=3<=arguments.length?slice.call(arguments,2):[];wrapper=$('<div class="react_lightbox"></div>').appendTo(parent.lightbox_container());this.react_component=ReactDOM.render(component,wrapper[0]);el=ReactDOM.findDOMNode(this.react_component);ReactLightbox.__super__.constructor.apply(this,[el,parent].concat(slice.call(rest)))}ReactLightbox.prototype.show=function(first_time){this.el.addClass("animated");return this.position()};ReactLightbox.prototype.close=function(){var parent;this.el.trigger("i:lightbox_close");parent=this.el.parent();ReactDOM.unmountComponentAtNode(parent[0]);return parent.remove()};return ReactLightbox}(I.Lightbox)}).call(this);(function(){var UNKNOWN_IMAGE_FORMAT_ERROR,image_type_from_array_buffer,bind=function(fn,me){return function(){return fn.apply(me,arguments)}},slice=[].slice,extend=function(child,parent){for(var key in parent){if(hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},hasProp={}.hasOwnProperty;I.prepare_upload=function(prefix,params,fn,fail_fn){return $.ajax({url:prefix+"/upload/prepare",type:"post",data:I.with_csrf(params),success:function(_this){return function(res){if(res.errors){return typeof fail_fn==="function"?fail_fn(res.errors.join(",")):void 0}return typeof fn==="function"?fn(res):void 0}}(this),error:function(_this){return function(res){return typeof fail_fn==="function"?fail_fn("Server error"):void 0}}(this)})};image_type_from_array_buffer=function(array_buffer){var dv,hex,nume1,nume2,types;dv=new DataView(array_buffer,0,5);nume1=dv.getUint8(0,true);nume2=dv.getUint8(1,true);hex=nume1.toString(16)+nume2.toString(16);types={8950:"image/png",4749:"image/gif","424d":"image/bmp",ffd8:"image/jpeg"};return types[hex]};UNKNOWN_IMAGE_FORMAT_ERROR="You selected an image type we don't recognize. It's possible it has the wrong file extension for the format it is saved as. Please use an image editing program to convert it to a PNG, JPEG, or GIF.";I.test_image_format=function(file){return $.Deferred(function(_this){return function(d){var reader;if(window.FileReader){reader=new FileReader;reader.readAsArrayBuffer(file);reader.onerror=function(){return d.reject("Failed to read image from disk")};return reader.onload=function(){var type;type=image_type_from_array_buffer(reader.result);if(type==="image/bmp"){return d.reject("You selected a BMP file that has a wrong extension. Please use an image editing program to convert it to a PNG, JPEG, or GIF.")}else if(type){return d.resolve()}else{return d.reject(UNKNOWN_IMAGE_FORMAT_ERROR)}}}else{return d.resolve()}}}(this))};I.image_dimensions=function(file){return $.Deferred(function(d){var image,src;src=typeof URL!=="undefined"&&URL!==null?typeof URL.createObjectURL==="function"?URL.createObjectURL(file):void 0:void 0;if(src){image=new Image;image.src=src;image.onload=function(){return d.resolve([image.width,image.height])};return image.onerror=function(){return d.reject(UNKNOWN_IMAGE_FORMAT_ERROR)}}else{return d.reject(UNKNOWN_IMAGE_FORMAT_ERROR)}})};I.video_dimensions=function(file){return $.Deferred(function(d){var src,v;v=document.createElement("video");src=typeof URL!=="undefined"&&URL!==null?typeof URL.createObjectURL==="function"?URL.createObjectURL(file):void 0:void 0;if(src){v.src=src;v.onloadedmetadata=function(){return d.resolve([v.videoWidth,v.videoHeight])};return v.onerror=function(){return d.reject("Invalid video file")}}else{return d.reject("Invalid video file")}})};I.test_image_dimensions=function(file,max_width,max_height){if(max_width==null){max_width=3840}if(max_height==null){max_height=2160}return I.image_dimensions(file).then(function(_this){return function(size){var height,width;width=size[0],height=size[1];return $.Deferred(function(d){if(width>max_width||height>max_height){return d.reject("Image is greater than the maximum dimensions of "+max_width+"x"+max_height+" (you selected a "+width+"x"+height+" image)")}else{return d.resolve()}})}}(this))};I.Upload=function(){Upload.prototype.error_message="There was a problem completing your upload. Try again. If the problem persists contact support.";Upload.prototype.label="file";Upload.prototype.kind="upload";function Upload(editor1,file1,opts1){this.editor=editor1;this.file=file1;this.opts=opts1;this.start_xhr_upload=bind(this.start_xhr_upload,this);this.decrement=bind(this.decrement,this);this.increment=bind(this.increment,this);this.save_upload=bind(this.save_upload,this)}Upload.prototype.upload_params=function(){return{kind:this.kind,filename:this.file.name}};Upload.prototype.save_upload=function(success_fn){throw"override `save_upload`"};Upload.prototype.increment=function(){var base,base1;(base=this.constructor).active_uploads||(base.active_uploads=0);this.constructor.active_uploads++;if(this.constructor.active_uploads===1){return typeof(base1=this.opts).start_uploading==="function"?base1.start_uploading():void 0}};Upload.prototype.decrement=function(){var base;this.constructor.active_uploads--;if(this.constructor.active_uploads===0){return typeof(base=this.opts).stop_uploading==="function"?base.stop_uploading():void 0}};Upload.prototype.start_xhr_upload=function(fail_handler){var form_data,key,ref,val,xhr;if(!this.upload_data){throw"missing upload data"}this.increment();form_data=new FormData;ref=this.upload_data.post_params;for(key in ref){val=ref[key];form_data.append(key,val)}form_data.append("file",this.file);xhr=new XMLHttpRequest;xhr.upload.addEventListener("progress",function(_this){return function(e){if(e.lengthComputable){return typeof _this.progress==="function"?_this.progress(e.loaded,e.total):void 0}}}(this));xhr.upload.addEventListener("error",function(_this){return function(e){return I.event("upload","xhr error",_this.kind)}}(this));xhr.upload.addEventListener("abort",function(_this){return function(e){return I.event("upload","xhr abort",_this.kind)}}(this));xhr.addEventListener("readystatechange",function(_this){return function(e){var message;if(xhr.readyState!==4){return}_this.decrement();if(Math.floor(xhr.status/100)===2){I.event("upload","save",_this.kind);return typeof _this.save_upload==="function"?_this.save_upload(_this.opts.finish_upload):void 0}else{message="Failed upload.";if(xhr.responseXML){try{message=xhr.responseXML.querySelector("Error Message").innerHTML}catch(error1){e=error1}}else{message=xhr.responseText}I.event("upload_error","server error "+xhr.status+": "+message,_this.kind);return fail_handler("error: "+message)}}}(this));xhr.open("POST",this.upload_data.action);return xhr.send(form_data)};Upload.prototype.start_upload=function(fn,fail_fn){var fail_handler;if(this.upload_data){return}fail_handler=function(_this){return function(){if(typeof _this.cancel_upload==="function"){_this.cancel_upload.apply(_this,[_this].concat(slice.call(arguments)))}return typeof fail_fn==="function"?fail_fn.apply(null,[_this].concat(slice.call(arguments))):void 0}}(this);return this.editor.prepare_upload(function(_this){return function(){return I.prepare_upload(_this.editor.upload_prefix(),_this.upload_params(),function(upload_data){_this.upload_data=upload_data;if(typeof _this.have_upload_data==="function"){_this.have_upload_data()}return _this.start_xhr_upload(fail_handler)},fail_handler)}}(this),fail_handler)};return Upload}();I.ImageUpload=function(superClass){extend(ImageUpload,superClass);function ImageUpload(){this.save_url=bind(this.save_url,this);return ImageUpload.__super__.constructor.apply(this,arguments)}ImageUpload.prototype.success_params={};ImageUpload.prototype.kind="image";ImageUpload.prototype.label="image";ImageUpload.prototype.save_url=function(){return this.editor.upload_prefix()+"/image/success/"+this.upload_data.upload_id};ImageUpload.prototype.save_upload=function(fn){if(!this.upload_data){return}return $.ajax({url:this.save_url()+"?"+$.param(this.success_params),type:"post",data:I.with_csrf(),success:function(_this){return function(res){var type;type=_this.success_params.type||_this.kind;if(res.errors){I.event("upload_error",type,res.errors.join(", "));if(_this.cancel_upload){_this.cancel_upload()}else{alert(_this.error_message)}return}return fn.apply(null,[_this].concat(slice.call(arguments)))}}(this)})};ImageUpload.delete_image=function(editor,image_id,fn){return $.ajax({url:editor.upload_prefix()+"/image/delete/"+image_id,type:"post",data:I.with_csrf(),success:fn})};return ImageUpload}(I.Upload);I.pick_files=function(opts){var input;if(opts==null){opts={}}input=opts.input?$(opts.input):($("input.pick_files_input").remove(),$("<input type='file' class='pick_files_input' />").hide().insertAfter("body"));return $.Deferred(function(_this){return function(d){if(opts.multiple){input.attr("multiple",true)}if(opts.accept){input.attr("accept",opts.accept)}input.on("change",function(e){var deferreds,errors,f,file,files,i,len;files=function(){var i,len,ref,results;ref=e.target.files;results=[];for(i=0,len=ref.length;i<len;i++){f=ref[i];results.push(f)}return results}();errors=[];if(typeof opts.on_pick_files==="function"){opts.on_pick_files(files)}for(i=0,len=files.length;i<len;i++){file=files[i];if(opts.max_size){if(file.size>opts.max_size){errors.push(["You selected an image greater than the max size "+I.format_bytes(opts.max_size)+" (you selected a "+I.format_bytes(file.size)+" file)",file])}}}if(errors.length){d.reject(errors,files);return}if(opts.test_file){deferreds=files.map(function(file){return $.Deferred(function(fd){opts.test_file(file,fd);return setTimeout(function(){if(d.state()==="pending"){return fd.reject("Timed out checking file, are you sure it was an image file?")}},1e3)})["catch"](function(err){throw[err,file]})});return $.when.apply($,deferreds).done(function(res){return d.resolve(files)}).fail(function(error){return d.reject([error])})}else{return d.resolve(files)}});return input.click()}}(this))};I.xhr_upload=function(_this){return function(file,opts){return $.Deferred(function(d){var form_data,key,ref,val,xhr;form_data=new FormData;ref=opts.post_params;for(key in ref){val=ref[key];form_data.append(key,val)}form_data.append("file",file);xhr=new XMLHttpRequest;xhr.upload.addEventListener("progress",function(e){if(e.lengthComputable){return d.notify("progress",e.loaded,e.total)}});xhr.upload.addEventListener("error",function(e){return d.reject("xhr error")});xhr.upload.addEventListener("abort",function(e){return d.reject("xhr aborted")});xhr.addEventListener("readystatechange",function(e){var message;if(xhr.readyState!==4){return}if(Math.floor(xhr.status/100)===2){return d.resolve()}else{message="Failed upload.";if(xhr.responseXML){try{message=xhr.responseXML.querySelector("Error Message").innerHTML}catch(error1){e=error1}}else{message=xhr.responseText}return d.reject(message)}});xhr.open("POST",opts.action);return xhr.send(form_data)})}}(this);I.upload_image=function(opts){if(opts==null){opts={}}opts.accept||(opts.accept="image/png,image/jpeg,image/gif");opts.file_params=function(file){if(file.type==="video/mp4"){return I.video_dimensions(file).then(function(_this){return function(arg){var height,width;width=arg[0],height=arg[1];return{width:width,height:height}}}(this))}else{return I.image_dimensions(file).then(function(_this){return function(arg){var height,width;width=arg[0],height=arg[1];return{width:width,height:height}}}(this))}};return I.upload_file(opts)};I.upload_file=function(_this){return function(opts){var accept,max_size,multiple,on_pick_files,on_start_upload,test_file;if(opts==null){opts={}}if(!opts.url){throw new Error("missing url for upload image")}accept=opts.accept;max_size=opts.max_size,multiple=opts.multiple,on_pick_files=opts.on_pick_files,on_start_upload=opts.on_start_upload,test_file=opts.test_file;return I.pick_files({accept:accept,max_size:max_size,multiple:multiple,test_file:test_file,on_pick_files:on_pick_files}).then(function(files){var file,uploads;if(!multiple&&files.length>1){throw"Got multiple files for single upload"}uploads=function(){var i,len,ref,results;ref=files.slice(0,6);results=[];for(i=0,len=ref.length;i<len;i++){file=ref[i];results.push(function(file){var more_params;more_params=opts.file_params?opts.file_params(file):{};return $.when(more_params).then(function(_this){return function(p){return $.ajax({url:opts.url,type:"post",xhrFields:{withCredentials:true},data:I.with_csrf($.extend({filename:file.name,thumb_size:opts.thumb_size,action:"prepare"},p))}).then(function(res){var xhr;if(res.errors){return $.Deferred().reject(res.errors)}xhr=I.xhr_upload(file,res).then(function(){return $.ajax({url:res.success_url,type:"post",xhrFields:{withCredentials:true},data:I.with_csrf()})});if(typeof on_start_upload==="function"){on_start_upload(file,res,xhr)}return xhr})}}(this))}(file))}return results}();if(multiple){return $.when.apply($,uploads)}else{return uploads[0]}})}}(this);I.make_upload_button=function(editor,btn_elm,upload_cls,opts){var input,max_size;if(opts==null){opts={}}input=null;max_size=btn_elm.data("max_size");return btn_elm.on("click",function(_this){return function(e){var accept,type;if(input){input.remove()}input=$("<input type='file' multiple />").hide().insertAfter(btn_elm);if(accept=btn_elm.data("accept")){input.attr("accept",accept)}type=upload_cls.prototype.kind;I.event("upload","open",type);input.on("change",function(){var file,file_upload,i,len,ref,results;ref=input[0].files;results=[];for(i=0,len=ref.length;i<len;i++){file=ref[i];if(max_size!=null&&file.size>max_size){I.flash(file.name+" is greater than max size of "+I.format_bytes(max_size),"error");continue}file_upload=new upload_cls(editor,file,opts);if(opts.cancel_upload){file_upload.cancel_upload=opts.cancel_upload}file_upload.start_upload();if(typeof opts.queue_upload==="function"){opts.queue_upload(file_upload)}results.push(I.event("upload","start",type))}return results});input.insertAfter(btn_elm);return input.click()}}(this))};I.make_fake_upload_button=function(editor,btn_elm,upload_cls,opts){if(opts==null){opts={}}return btn_elm.on("click",function(e){var uploader;uploader=new upload_cls(editor,{size:851520,name:"The file that I am uploading.zip",type:".zip"},opts);uploader.save_upload=function(fn){uploader.after_save();return typeof fn==="function"?fn(this):void 0};uploader.start_upload=function(fn,fail_fn){var more_progress,sent;uploader.upload_data={upload_id:-1};if(typeof uploader.have_upload_data==="function"){uploader.have_upload_data()}sent=0;more_progress=function(){sent+=Math.floor(Math.random()*2e4)+500;if(sent>=uploader.file.size){return typeof uploader.save_upload==="function"?uploader.save_upload(opts.finish_upload):void 0}else{uploader.progress(sent,uploader.file.size);return setTimeout(more_progress,50)}};return more_progress()};if(typeof opts.queue_upload==="function"){opts.queue_upload(uploader)}return uploader.start_upload()})};I.make_popup_upload_button=function(editor,btn,upload_cls,opts){var click_handler,in_progress,update_state;if(!editor.upload_prefix){throw"Upload button parent must have `upload_prefix` method"}in_progress=0;update_state=function(d){in_progress+=d;if(in_progress===0){return typeof opts.stop_uploading==="function"?opts.stop_uploading():void 0}else{return typeof opts.start_uploading==="function"?opts.start_uploading():void 0}};click_handler=function(e){var lb,ref,ref1,thumb_size,type,upload_url,uploader;e.preventDefault();type=upload_cls.prototype.kind;if(type==="image"){type=((ref=upload_cls.prototype.success_params)!=null?ref.type:void 0)||type}upload_url=editor.upload_prefix()+("/upload?type="+type);if(thumb_size=(ref1=upload_cls.prototype.success_params)!=null?ref1.thumb_size:void 0){upload_url+="&thumb_size="+thumb_size}lb=I.Lightbox.open_tpl("upload_lightbox",I.UploadLightbox,upload_url,upload_cls.prototype.label);uploader=null;I.event("upload","open",type);lb.el.on("i:lightbox_close",function(_this){return function(){return $(document).off("i:upload_popup_msg")}}(this));return $(document).on("i:upload_popup_msg",function(_this){return function(e,msg){switch(msg.type){case"save_upload":if(!uploader){throw"no uploader"}$(document).off("i:upload_popup_msg");I.event("upload","save",type);update_state(-1);if(typeof opts.finish_upload==="function"){opts.finish_upload(uploader,msg.data)}if(typeof uploader.after_save==="function"){uploader.after_save()}uploader=null;lb.closable=true;return I.Lightbox.close();case"start_upload":if(uploader){throw"upload already started"}I.event("upload","start",type);lb.closable=false;lb.el.addClass("not_closable");uploader=new upload_cls(editor,{size:msg.size,name:msg.name},{});uploader.upload_data=msg.data;if(typeof uploader.have_upload_data==="function"){uploader.have_upload_data()}if(typeof opts.queue_upload==="function"){opts.queue_upload(uploader)}update_state(1);if(typeof uploader.progress==="function"){uploader.progress(1,1)}uploader.start_upload=function(){};return uploader.save_upload=function(){}}}}(this))};return btn.on("click",function(_this){return function(e){if(editor.prepare_upload){return editor.prepare_upload(function(){return click_handler(e)})}else{return click_handler(e)}}}(this))};I.prepare_download=function(game_slug,upload_id,key,fn,params){if(params==null){params={}}if(key){params.key=key}if(I.proxy_downloads){params.proxy=true}return $.ajax({url:"/"+game_slug+"/file/"+upload_id+"?"+$.param(params),type:"post",data:I.with_csrf(),success:function(_this){return function(res){var err_msg;if(res.errors){err_msg=res.errors.join(",");I.event("game_download","error",err_msg);return alert(err_msg)}return typeof fn==="function"?fn(res.url,res):void 0}}(this)})};I.start_download=function(res){if(!res.url){return}return _.defer(function(_this){return function(){var on_https,open_in_window;if(res.external){window.open(res.url);return}on_https=window.location.protocol.match("/^https\b");open_in_window=on_https&&!url.match(/^https\b/);if(open_in_window){return window.location=res.url}else if(I.is_ios()){return window.open(res.url)}else{return $('<iframe frameborder="0" style="width: 0; height: 0; visibility: hidden;"></iframe>').attr("src",res.url).appendTo(document.body)}}}(this))};I.UploadLightbox=function(superClass){extend(UploadLightbox,superClass);function UploadLightbox(){return UploadLightbox.__super__.constructor.apply(this,arguments)}UploadLightbox.prototype.init=function(url,label){this.iframe=this.el.find("iframe").attr("src",url);if(label){return this.el.find(".label").text(label)}};return UploadLightbox}(I.Lightbox)}).call(this);!function(e,t,i){"use strict";"undefined"!=typeof module&&module.exports?module.exports=i():"function"==typeof define&&define.amd?define(i):t[e]=i()}("Fingerprint2",this,function(){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var i;if(null==this)throw new TypeError("'this' is null or undefined");var a=Object(this),r=a.length>>>0;if(0===r)return-1;var n=+t||0;if(Math.abs(n)===1/0&&(n=0),n>=r)return-1;for(i=Math.max(n>=0?n:r-Math.abs(n),0);r>i;){if(i in a&&a[i]===e)return i;i++}return-1});var e=function(e){var t={swfContainerId:"fingerprintjs2",swfPath:"flash/compiled/FontList.swf",detectScreenOrientation:!0,sortPluginsFor:[/palemoon/i]};this.options=this.extend(e,t),this.nativeForEach=Array.prototype.forEach,this.nativeMap=Array.prototype.map};return e.prototype={extend:function(e,t){if(null==e)return t;for(var i in e)null!=e[i]&&t[i]!==e[i]&&(t[i]=e[i]);return t},log:function(e){window.console&&console.log(e)},get:function(e){var t=[];t=this.userAgentKey(t),t=this.languageKey(t),t=this.colorDepthKey(t),t=this.screenResolutionKey(t),t=this.availableScreenResolutionKey(t),t=this.timezoneOffsetKey(t),t=this.sessionStorageKey(t),t=this.localStorageKey(t),t=this.indexedDbKey(t),t=this.addBehaviorKey(t),t=this.openDatabaseKey(t),t=this.cpuClassKey(t),t=this.platformKey(t),t=this.doNotTrackKey(t),t=this.pluginsKey(t),t=this.canvasKey(t),t=this.webglKey(t),t=this.adBlockKey(t),t=this.hasLiedLanguagesKey(t),t=this.hasLiedResolutionKey(t),t=this.hasLiedOsKey(t),t=this.hasLiedBrowserKey(t),t=this.touchSupportKey(t);var i=this;this.fontsKey(t,function(t){var a=[];i.each(t,function(e){var t=e.value;"undefined"!=typeof e.value.join&&(t=e.value.join(";")),a.push(t)});var r=i.x64hash128(a.join("~~~"),31);return e(r,t)})},userAgentKey:function(e){return this.options.excludeUserAgent||e.push({key:"user_agent",value:this.getUserAgent()}),e},getUserAgent:function(){return navigator.userAgent},languageKey:function(e){return this.options.excludeLanguage||e.push({key:"language",value:navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage}),e},colorDepthKey:function(e){return this.options.excludeColorDepth||e.push({key:"color_depth",value:screen.colorDepth}),e},screenResolutionKey:function(e){return this.options.excludeScreenResolution?e:this.getScreenResolution(e)},getScreenResolution:function(e){var t;return t=this.options.detectScreenOrientation&&screen.height>screen.width?[screen.height,screen.width]:[screen.width,screen.height],"undefined"!=typeof t&&e.push({key:"resolution",value:t}),e},availableScreenResolutionKey:function(e){return this.options.excludeAvailableScreenResolution?e:this.getAvailableScreenResolution(e)},getAvailableScreenResolution:function(e){var t;return screen.availWidth&&screen.availHeight&&(t=this.options.detectScreenOrientation?screen.availHeight>screen.availWidth?[screen.availHeight,screen.availWidth]:[screen.availWidth,screen.availHeight]:[screen.availHeight,screen.availWidth]),"undefined"!=typeof t&&e.push({key:"available_resolution",value:t}),e},timezoneOffsetKey:function(e){return this.options.excludeTimezoneOffset||e.push({key:"timezone_offset",value:(new Date).getTimezoneOffset()}),e},sessionStorageKey:function(e){return!this.options.excludeSessionStorage&&this.hasSessionStorage()&&e.push({key:"session_storage",value:1}),e},localStorageKey:function(e){return!this.options.excludeSessionStorage&&this.hasLocalStorage()&&e.push({key:"local_storage",value:1}),e},indexedDbKey:function(e){return!this.options.excludeIndexedDB&&this.hasIndexedDB()&&e.push({key:"indexed_db",value:1}),e},addBehaviorKey:function(e){return document.body&&!this.options.excludeAddBehavior&&document.body.addBehavior&&e.push({key:"add_behavior",value:1}),e},openDatabaseKey:function(e){return!this.options.excludeOpenDatabase&&window.openDatabase&&e.push({key:"open_database",value:1}),e},cpuClassKey:function(e){return this.options.excludeCpuClass||e.push({key:"cpu_class",value:this.getNavigatorCpuClass()}),e},platformKey:function(e){return this.options.excludePlatform||e.push({key:"navigator_platform",value:this.getNavigatorPlatform()}),e},doNotTrackKey:function(e){return this.options.excludeDoNotTrack||e.push({key:"do_not_track",value:this.getDoNotTrack()}),e},canvasKey:function(e){return!this.options.excludeCanvas&&this.isCanvasSupported()&&e.push({key:"canvas",value:this.getCanvasFp()}),e},webglKey:function(e){return this.options.excludeWebGL?e:this.isWebGlSupported()?(e.push({key:"webgl",value:this.getWebglFp()}),e):e},adBlockKey:function(e){return this.options.excludeAdBlock||e.push({key:"adblock",value:this.getAdBlock()}),e},hasLiedLanguagesKey:function(e){return this.options.excludeHasLiedLanguages||e.push({key:"has_lied_languages",value:this.getHasLiedLanguages()}),e},hasLiedResolutionKey:function(e){return this.options.excludeHasLiedResolution||e.push({key:"has_lied_resolution",value:this.getHasLiedResolution()}),e},hasLiedOsKey:function(e){return this.options.excludeHasLiedOs||e.push({key:"has_lied_os",value:this.getHasLiedOs()}),e},hasLiedBrowserKey:function(e){return this.options.excludeHasLiedBrowser||e.push({key:"has_lied_browser",value:this.getHasLiedBrowser()}),e},fontsKey:function(e,t){return this.options.excludeJsFonts?this.flashFontsKey(e,t):this.jsFontsKey(e,t)},flashFontsKey:function(e,t){return this.options.excludeFlashFonts?t(e):this.hasSwfObjectLoaded()&&this.hasMinFlashInstalled()?"undefined"==typeof this.options.swfPath?t(e):void this.loadSwfAndDetectFonts(function(i){e.push({key:"swf_fonts",value:i.join(";")}),t(e)}):t(e)},jsFontsKey:function(e,t){var i=this;return setTimeout(function(){var a=["monospace","sans-serif","serif"],r="mmmmmmmmmmlli",n="72px",o=document.getElementsByTagName("body")[0],s=document.createElement("span");s.style.fontSize=n,s.innerHTML=r;var l={},h={};for(var u in a)s.style.fontFamily=a[u],o.appendChild(s),l[a[u]]=s.offsetWidth,h[a[u]]=s.offsetHeight,o.removeChild(s);var d=function(e){var t=!1;for(var i in a){s.style.fontFamily=e+","+a[i],o.appendChild(s);var r=s.offsetWidth!==l[a[i]]||s.offsetHeight!==h[a[i]];o.removeChild(s),t=t||r}return t},c=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Garamond","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"],g=["Abadi MT Condensed Light","Academy Engraved LET","ADOBE CASLON PRO","Adobe Garamond","ADOBE GARAMOND PRO","Agency FB","Aharoni","Albertus Extra Bold","Albertus Medium","Algerian","Amazone BT","American Typewriter","American Typewriter Condensed","AmerType Md BT","Andalus","Angsana New","AngsanaUPC","Antique Olive","Aparajita","Apple Chancery","Apple Color Emoji","Apple SD Gothic Neo","Arabic Typesetting","ARCHER","ARNO PRO","Arrus BT","Aurora Cn BT","AvantGarde Bk BT","AvantGarde Md BT","AVENIR","Ayuthaya","Bandy","Bangla Sangam MN","Bank Gothic","BankGothic Md BT","Baskerville","Baskerville Old Face","Batang","BatangChe","Bauer Bodoni","Bauhaus 93","Bazooka","Bell MT","Bembo","Benguiat Bk BT","Berlin Sans FB","Berlin Sans FB Demi","Bernard MT Condensed","BernhardFashion BT","BernhardMod BT","Big Caslon","BinnerD","Blackadder ITC","BlairMdITC TT","Bodoni 72","Bodoni 72 Oldstyle","Bodoni 72 Smallcaps","Bodoni MT","Bodoni MT Black","Bodoni MT Condensed","Bodoni MT Poster Compressed","Bookshelf Symbol 7","Boulder","Bradley Hand","Bradley Hand ITC","Bremen Bd BT","Britannic Bold","Broadway","Browallia New","BrowalliaUPC","Brush Script MT","Californian FB","Calisto MT","Calligrapher","Candara","CaslonOpnface BT","Castellar","Centaur","Cezanne","CG Omega","CG Times","Chalkboard","Chalkboard SE","Chalkduster","Charlesworth","Charter Bd BT","Charter BT","Chaucer","ChelthmITC Bk BT","Chiller","Clarendon","Clarendon Condensed","CloisterBlack BT","Cochin","Colonna MT","Constantia","Cooper Black","Copperplate","Copperplate Gothic","Copperplate Gothic Bold","Copperplate Gothic Light","CopperplGoth Bd BT","Corbel","Cordia New","CordiaUPC","Cornerstone","Coronet","Cuckoo","Curlz MT","DaunPenh","Dauphin","David","DB LCD Temp","DELICIOUS","Denmark","DFKai-SB","Didot","DilleniaUPC","DIN","DokChampa","Dotum","DotumChe","Ebrima","Edwardian Script ITC","Elephant","English 111 Vivace BT","Engravers MT","EngraversGothic BT","Eras Bold ITC","Eras Demi ITC","Eras Light ITC","Eras Medium ITC","EucrosiaUPC","Euphemia","Euphemia UCAS","EUROSTILE","Exotc350 Bd BT","FangSong","Felix Titling","Fixedsys","FONTIN","Footlight MT Light","Forte","FrankRuehl","Fransiscan","Freefrm721 Blk BT","FreesiaUPC","Freestyle Script","French Script MT","FrnkGothITC Bk BT","Fruitger","FRUTIGER","Futura","Futura Bk BT","Futura Lt BT","Futura Md BT","Futura ZBlk BT","FuturaBlack BT","Gabriola","Galliard BT","Gautami","Geeza Pro","Geometr231 BT","Geometr231 Hv BT","Geometr231 Lt BT","GeoSlab 703 Lt BT","GeoSlab 703 XBd BT","Gigi","Gill Sans","Gill Sans MT","Gill Sans MT Condensed","Gill Sans MT Ext Condensed Bold","Gill Sans Ultra Bold","Gill Sans Ultra Bold Condensed","Gisha","Gloucester MT Extra Condensed","GOTHAM","GOTHAM BOLD","Goudy Old Style","Goudy Stout","GoudyHandtooled BT","GoudyOLSt BT","Gujarati Sangam MN","Gulim","GulimChe","Gungsuh","GungsuhChe","Gurmukhi MN","Haettenschweiler","Harlow Solid Italic","Harrington","Heather","Heiti SC","Heiti TC","HELV","Herald","High Tower Text","Hiragino Kaku Gothic ProN","Hiragino Mincho ProN","Hoefler Text","Humanst 521 Cn BT","Humanst521 BT","Humanst521 Lt BT","Imprint MT Shadow","Incised901 Bd BT","Incised901 BT","Incised901 Lt BT","INCONSOLATA","Informal Roman","Informal011 BT","INTERSTATE","IrisUPC","Iskoola Pota","JasmineUPC","Jazz LET","Jenson","Jester","Jokerman","Juice ITC","Kabel Bk BT","Kabel Ult BT","Kailasa","KaiTi","Kalinga","Kannada Sangam MN","Kartika","Kaufmann Bd BT","Kaufmann BT","Khmer UI","KodchiangUPC","Kokila","Korinna BT","Kristen ITC","Krungthep","Kunstler Script","Lao UI","Latha","Leelawadee","Letter Gothic","Levenim MT","LilyUPC","Lithograph","Lithograph Light","Long Island","Lydian BT","Magneto","Maiandra GD","Malayalam Sangam MN","Malgun Gothic","Mangal","Marigold","Marion","Marker Felt","Market","Marlett","Matisse ITC","Matura MT Script Capitals","Meiryo","Meiryo UI","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft Yi Baiti","MingLiU","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","MingLiU-ExtB","Minion","Minion Pro","Miriam","Miriam Fixed","Mistral","Modern","Modern No. 20","Mona Lisa Solid ITC TT","Mongolian Baiti","MONO","MoolBoran","Mrs Eaves","MS LineDraw","MS Mincho","MS PMincho","MS Reference Specialty","MS UI Gothic","MT Extra","MUSEO","MV Boli","Nadeem","Narkisim","NEVIS","News Gothic","News GothicMT","NewsGoth BT","Niagara Engraved","Niagara Solid","Noteworthy","NSimSun","Nyala","OCR A Extended","Old Century","Old English Text MT","Onyx","Onyx BT","OPTIMA","Oriya Sangam MN","OSAKA","OzHandicraft BT","Palace Script MT","Papyrus","Parchment","Party LET","Pegasus","Perpetua","Perpetua Titling MT","PetitaBold","Pickwick","Plantagenet Cherokee","Playbill","PMingLiU","PMingLiU-ExtB","Poor Richard","Poster","PosterBodoni BT","PRINCETOWN LET","Pristina","PTBarnum BT","Pythagoras","Raavi","Rage Italic","Ravie","Ribbon131 Bd BT","Rockwell","Rockwell Condensed","Rockwell Extra Bold","Rod","Roman","Sakkal Majalla","Santa Fe LET","Savoye LET","Sceptre","Script","Script MT Bold","SCRIPTINA","Serifa","Serifa BT","Serifa Th BT","ShelleyVolante BT","Sherwood","Shonar Bangla","Showcard Gothic","Shruti","Signboard","SILKSCREEN","SimHei","Simplified Arabic","Simplified Arabic Fixed","SimSun","SimSun-ExtB","Sinhala Sangam MN","Sketch Rockwell","Skia","Small Fonts","Snap ITC","Snell Roundhand","Socket","Souvenir Lt BT","Staccato222 BT","Steamer","Stencil","Storybook","Styllo","Subway","Swis721 BlkEx BT","Swiss911 XCm BT","Sylfaen","Synchro LET","System","Tamil Sangam MN","Technical","Teletype","Telugu Sangam MN","Tempus Sans ITC","Terminal","Thonburi","Traditional Arabic","Trajan","TRAJAN PRO","Tristan","Tubular","Tunga","Tw Cen MT","Tw Cen MT Condensed","Tw Cen MT Condensed Extra Bold","TypoUpright BT","Unicorn","Univers","Univers CE 55 Medium","Univers Condensed","Utsaah","Vagabond","Vani","Vijaya","Viner Hand ITC","VisualUI","Vivaldi","Vladimir Script","Vrinda","Westminster","WHITNEY","Wide Latin","ZapfEllipt BT","ZapfHumnst BT","ZapfHumnst Dm BT","Zapfino","Zurich BlkEx BT","Zurich Ex BT","ZWAdobeF"];i.options.extendedJsFonts&&(c=c.concat(g));for(var p=[],f=0,m=c.length;m>f;f++)d(c[f])&&p.push(c[f]);e.push({key:"js_fonts",value:p}),t(e)},1)},pluginsKey:function(e){return this.options.excludePlugins||e.push(this.isIE()?{key:"ie_plugins",value:this.getIEPlugins()}:{key:"regular_plugins",value:this.getRegularPlugins()}),e},getRegularPlugins:function(){for(var e=[],t=0,i=navigator.plugins.length;i>t;t++)e.push(navigator.plugins[t]);return this.pluginsShouldBeSorted()&&(e=e.sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})),this.map(e,function(e){var t=this.map(e,function(e){return[e.type,e.suffixes].join("~")}).join(",");return[e.name,e.description,t].join("::")},this)},getIEPlugins:function(){if(window.ActiveXObject){var e=["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Scripting.Dictionary","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","Skype.Detection","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1"];return this.map(e,function(e){try{return new ActiveXObject(e),e}catch(t){return null}})}return[]},pluginsShouldBeSorted:function(){for(var e=!1,t=0,i=this.options.sortPluginsFor.length;i>t;t++){var a=this.options.sortPluginsFor[t];if(navigator.userAgent.match(a)){e=!0;break}}return e},touchSupportKey:function(e){return this.options.excludeTouchSupport||e.push({key:"touch_support",value:this.getTouchSupport()}),e},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},hasLocalStorage:function(){try{return!!window.localStorage}catch(e){return!0}},hasIndexedDB:function(){try{return!!window.indexedDB}catch(e){return!0}},getNavigatorCpuClass:function(){return navigator.cpuClass?navigator.cpuClass:"unknown"},getNavigatorPlatform:function(){return navigator.platform?navigator.platform:"unknown"},getDoNotTrack:function(){return navigator.doNotTrack?navigator.doNotTrack:"unknown"},getTouchSupport:function(){var e=0,t=!1;"undefined"!=typeof navigator.maxTouchPoints?e=navigator.maxTouchPoints:"undefined"!=typeof navigator.msMaxTouchPoints&&(e=navigator.msMaxTouchPoints);try{document.createEvent("TouchEvent"),t=!0}catch(i){}var a="ontouchstart"in window;return[e,t,a]},getCanvasFp:function(){var e=[],t=document.createElement("canvas");t.width=2e3,t.height=200,t.style.display="inline";var i=t.getContext("2d");return i.rect(0,0,10,10),i.rect(2,2,6,6),e.push("canvas winding:"+(i.isPointInPath(5,5,"evenodd")===!1?"yes":"no")),i.textBaseline="alphabetic",i.fillStyle="#f60",i.fillRect(125,1,62,20),i.fillStyle="#069",i.font=this.options.dontUseFakeFontInCanvas?"11pt Arial":"11pt no-real-font-123",i.fillText("Cwm fjordbank glyphs vext quiz, ð",2,15),i.fillStyle="rgba(102, 204, 0, 0.7)",i.font="18pt Arial",i.fillText("Cwm fjordbank glyphs vext quiz, ð",4,45),i.globalCompositeOperation="multiply",i.fillStyle="rgb(255,0,255)",i.beginPath(),i.arc(50,50,50,0,2*Math.PI,!0),i.closePath(),i.fill(),i.fillStyle="rgb(0,255,255)",i.beginPath(),i.arc(100,50,50,0,2*Math.PI,!0),i.closePath(),i.fill(),i.fillStyle="rgb(255,255,0)",i.beginPath(),i.arc(75,100,50,0,2*Math.PI,!0),i.closePath(),i.fill(),i.fillStyle="rgb(255,0,255)",i.arc(75,75,75,0,2*Math.PI,!0),i.arc(75,75,25,0,2*Math.PI,!0),i.fill("evenodd"),e.push("canvas fp:"+t.toDataURL()),e.join("~")},getWebglFp:function(){var e,t=function(t){return e.clearColor(0,0,0,1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),"["+t[0]+", "+t[1]+"]"},i=function(e){var t,i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic");return i?(t=e.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT),0===t&&(t=2),t):null};if(e=this.getWebglCanvas(),!e)return null;var a=[],r="attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}",n="precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}",o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o);var s=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);e.bufferData(e.ARRAY_BUFFER,s,e.STATIC_DRAW),o.itemSize=3,o.numItems=3;var l=e.createProgram(),h=e.createShader(e.VERTEX_SHADER);e.shaderSource(h,r),e.compileShader(h);var u=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(u,n),e.compileShader(u),e.attachShader(l,h),e.attachShader(l,u),e.linkProgram(l),e.useProgram(l),l.vertexPosAttrib=e.getAttribLocation(l,"attrVertex"),l.offsetUniform=e.getUniformLocation(l,"uniformOffset"),e.enableVertexAttribArray(l.vertexPosArray),e.vertexAttribPointer(l.vertexPosAttrib,o.itemSize,e.FLOAT,!1,0,0),e.uniform2f(l.offsetUniform,1,1),e.drawArrays(e.TRIANGLE_STRIP,0,o.numItems),null!=e.canvas&&a.push(e.canvas.toDataURL()),a.push("extensions:"+e.getSupportedExtensions().join(";")),a.push("webgl aliased line width range:"+t(e.getParameter(e.ALIASED_LINE_WIDTH_RANGE))),a.push("webgl aliased point size range:"+t(e.getParameter(e.ALIASED_POINT_SIZE_RANGE))),a.push("webgl alpha bits:"+e.getParameter(e.ALPHA_BITS)),a.push("webgl antialiasing:"+(e.getContextAttributes().antialias?"yes":"no")),a.push("webgl blue bits:"+e.getParameter(e.BLUE_BITS)),a.push("webgl depth bits:"+e.getParameter(e.DEPTH_BITS)),a.push("webgl green bits:"+e.getParameter(e.GREEN_BITS)),a.push("webgl max anisotropy:"+i(e)),a.push("webgl max combined texture image units:"+e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),a.push("webgl max cube map texture size:"+e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE)),a.push("webgl max fragment uniform vectors:"+e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS)),a.push("webgl max render buffer size:"+e.getParameter(e.MAX_RENDERBUFFER_SIZE)),a.push("webgl max texture image units:"+e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),a.push("webgl max texture size:"+e.getParameter(e.MAX_TEXTURE_SIZE)),a.push("webgl max varying vectors:"+e.getParameter(e.MAX_VARYING_VECTORS)),a.push("webgl max vertex attribs:"+e.getParameter(e.MAX_VERTEX_ATTRIBS)),a.push("webgl max vertex texture image units:"+e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),a.push("webgl max vertex uniform vectors:"+e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS)),a.push("webgl max viewport dims:"+t(e.getParameter(e.MAX_VIEWPORT_DIMS))),a.push("webgl red bits:"+e.getParameter(e.RED_BITS)),a.push("webgl renderer:"+e.getParameter(e.RENDERER)),a.push("webgl shading language version:"+e.getParameter(e.SHADING_LANGUAGE_VERSION)),a.push("webgl stencil bits:"+e.getParameter(e.STENCIL_BITS)),a.push("webgl vendor:"+e.getParameter(e.VENDOR)),a.push("webgl version:"+e.getParameter(e.VERSION)),e.getShaderPrecisionFormat?(a.push("webgl vertex shader high float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision),a.push("webgl vertex shader high float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).rangeMin),a.push("webgl vertex shader high float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).rangeMax),a.push("webgl vertex shader medium float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision),a.push("webgl vertex shader medium float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).rangeMin),a.push("webgl vertex shader medium float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).rangeMax),a.push("webgl vertex shader low float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).precision),a.push("webgl vertex shader low float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).rangeMin),a.push("webgl vertex shader low float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).rangeMax),a.push("webgl fragment shader high float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision),a.push("webgl fragment shader high float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).rangeMin),a.push("webgl fragment shader high float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).rangeMax),a.push("webgl fragment shader medium float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision),a.push("webgl fragment shader medium float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).rangeMin),a.push("webgl fragment shader medium float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).rangeMax),a.push("webgl fragment shader low float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).precision),a.push("webgl fragment shader low float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).rangeMin),a.push("webgl fragment shader low float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).rangeMax),a.push("webgl vertex shader high int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).precision),a.push("webgl vertex shader high int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).rangeMin),a.push("webgl vertex shader high int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).rangeMax),a.push("webgl vertex shader medium int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).precision),a.push("webgl vertex shader medium int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).rangeMin),a.push("webgl vertex shader medium int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).rangeMax),a.push("webgl vertex shader low int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).precision),a.push("webgl vertex shader low int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).rangeMin),a.push("webgl vertex shader low int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).rangeMax),a.push("webgl fragment shader high int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).precision),a.push("webgl fragment shader high int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).rangeMin),a.push("webgl fragment shader high int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).rangeMax),a.push("webgl fragment shader medium int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).precision),a.push("webgl fragment shader medium int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).rangeMin),a.push("webgl fragment shader medium int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).rangeMax),a.push("webgl fragment shader low int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).precision),a.push("webgl fragment shader low int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).rangeMin),a.push("webgl fragment shader low int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).rangeMax),a.join("~")):a.join("~")},getAdBlock:function(){var e=document.createElement("div");e.setAttribute("id","ads");try{return document.body.appendChild(e),document.getElementById("ads")?!1:!0}catch(t){return!1}},getHasLiedLanguages:function(){if("undefined"!=typeof navigator.languages)try{var e=navigator.languages[0].substr(0,2);if(e!==navigator.language.substr(0,2))return!0}catch(t){return!0}return!1},getHasLiedResolution:function(){return screen.width<screen.availWidth?!0:screen.height<screen.availHeight?!0:!1},getHasLiedOs:function(){var e,t=navigator.userAgent.toLowerCase(),i=navigator.oscpu,a=navigator.platform.toLowerCase();e=t.indexOf("windows phone")>=0?"Windows Phone":t.indexOf("win")>=0?"Windows":t.indexOf("android")>=0?"Android":t.indexOf("linux")>=0?"Linux":t.indexOf("iphone")>=0||t.indexOf("ipad")>=0?"iOS":t.indexOf("mac")>=0?"Mac":"Other";var r;if(r="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?!0:!1,r&&"Windows Phone"!==e&&"Android"!==e&&"iOS"!==e&&"Other"!==e)return!0;if("undefined"!=typeof i){if(i=i.toLowerCase(),i.indexOf("win")>=0&&"Windows"!==e&&"Windows Phone"!==e)return!0;if(i.indexOf("linux")>=0&&"Linux"!==e&&"Android"!==e)return!0;if(i.indexOf("mac")>=0&&"Mac"!==e&&"iOS"!==e)return!0;if(0===i.indexOf("win")&&0===i.indexOf("linux")&&i.indexOf("mac")>=0&&"other"!==e)return!0}return a.indexOf("win")>=0&&"Windows"!==e&&"Windows Phone"!==e?!0:(a.indexOf("linux")>=0||a.indexOf("android")>=0||a.indexOf("pike")>=0)&&"Linux"!==e&&"Android"!==e?!0:(a.indexOf("mac")>=0||a.indexOf("ipad")>=0||a.indexOf("ipod")>=0||a.indexOf("iphone")>=0)&&"Mac"!==e&&"iOS"!==e?!0:0===a.indexOf("win")&&0===a.indexOf("linux")&&a.indexOf("mac")>=0&&"other"!==e?!0:"undefined"==typeof navigator.plugins&&"Windows"!==e&&"Windows Phone"!==e?!0:!1},getHasLiedBrowser:function(){var e,t=navigator.userAgent.toLowerCase(),i=navigator.productSub;if(e=t.indexOf("firefox")>=0?"Firefox":t.indexOf("opera")>=0||t.indexOf("opr")>=0?"Opera":t.indexOf("chrome")>=0?"Chrome":t.indexOf("safari")>=0?"Safari":t.indexOf("trident")>=0?"Internet Explorer":"Other",("Chrome"===e||"Safari"===e||"Opera"===e)&&"20030107"!==i)return!0;var a=eval.toString().length;if(37===a&&"Safari"!==e&&"Firefox"!==e&&"Other"!==e)return!0;if(39===a&&"Internet Explorer"!==e&&"Other"!==e)return!0;if(33===a&&"Chrome"!==e&&"Opera"!==e&&"Other"!==e)return!0;var r;try{throw"a"}catch(n){try{n.toSource(),r=!0}catch(o){r=!1}}return r&&"Firefox"!==e&&"Other"!==e?!0:!1},isCanvasSupported:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},isWebGlSupported:function(){if(!this.isCanvasSupported())return!1;var e,t=document.createElement("canvas");try{e=t.getContext&&(t.getContext("webgl")||t.getContext("experimental-webgl"))}catch(i){e=!1}return!!window.WebGLRenderingContext&&!!e},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName?!0:"Netscape"===navigator.appName&&/Trident/.test(navigator.userAgent)?!0:!1},hasSwfObjectLoaded:function(){return"undefined"!=typeof window.swfobject},hasMinFlashInstalled:function(){return swfobject.hasFlashPlayerVersion("9.0.0")},addFlashDivNode:function(){var e=document.createElement("div");e.setAttribute("id",this.options.swfContainerId),document.body.appendChild(e)},loadSwfAndDetectFonts:function(e){var t="___fp_swf_loaded";window[t]=function(t){e(t)};var i=this.options.swfContainerId;this.addFlashDivNode();var a={onReady:t},r={allowScriptAccess:"always",menu:"false"};swfobject.embedSWF(this.options.swfPath,i,"1","1","9.0.0",!1,a,r,{})},getWebglCanvas:function(){var e=document.createElement("canvas"),t=null;try{t=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(i){}return t||(t=null),t},each:function(e,t,i){if(null!==e)if(this.nativeForEach&&e.forEach===this.nativeForEach)e.forEach(t,i);else if(e.length===+e.length){for(var a=0,r=e.length;r>a;a++)if(t.call(i,e[a],a,e)==={})return}else for(var n in e)if(e.hasOwnProperty(n)&&t.call(i,e[n],n,e)==={})return},map:function(e,t,i){var a=[];return null==e?a:this.nativeMap&&e.map===this.nativeMap?e.map(t,i):(this.each(e,function(e,r,n){a[a.length]=t.call(i,e,r,n)}),a)},x64Add:function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var i=[0,0,0,0];return i[3]+=e[3]+t[3],i[2]+=i[3]>>>16,i[3]&=65535,i[2]+=e[2]+t[2],i[1]+=i[2]>>>16,i[2]&=65535,i[1]+=e[1]+t[1],i[0]+=i[1]>>>16,i[1]&=65535,i[0]+=e[0]+t[0],i[0]&=65535,[i[0]<<16|i[1],i[2]<<16|i[3]]},x64Multiply:function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var i=[0,0,0,0];return i[3]+=e[3]*t[3],i[2]+=i[3]>>>16,i[3]&=65535,i[2]+=e[2]*t[3],i[1]+=i[2]>>>16,i[2]&=65535,i[2]+=e[3]*t[2],i[1]+=i[2]>>>16,i[2]&=65535,i[1]+=e[1]*t[3],i[0]+=i[1]>>>16,i[1]&=65535,i[1]+=e[2]*t[2],i[0]+=i[1]>>>16,i[1]&=65535,i[1]+=e[3]*t[1],i[0]+=i[1]>>>16,i[1]&=65535,i[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],i[0]&=65535,[i[0]<<16|i[1],i[2]<<16|i[3]]},x64Rotl:function(e,t){return t%=64,32===t?[e[1],e[0]]:32>t?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])},x64LeftShift:function(e,t){return t%=64,0===t?e:32>t?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]},x64Xor:function(e,t){return[e[0]^t[0],e[1]^t[1]]},x64Fmix:function(e){return e=this.x64Xor(e,[0,e[0]>>>1]),e=this.x64Multiply(e,[4283543511,3981806797]),e=this.x64Xor(e,[0,e[0]>>>1]),e=this.x64Multiply(e,[3301882366,444984403]),e=this.x64Xor(e,[0,e[0]>>>1])},x64hash128:function(e,t){e=e||"",t=t||0;for(var i=e.length%16,a=e.length-i,r=[0,t],n=[0,t],o=[0,0],s=[0,0],l=[2277735313,289559509],h=[1291169091,658871167],u=0;a>u;u+=16)o=[255&e.charCodeAt(u+4)|(255&e.charCodeAt(u+5))<<8|(255&e.charCodeAt(u+6))<<16|(255&e.charCodeAt(u+7))<<24,255&e.charCodeAt(u)|(255&e.charCodeAt(u+1))<<8|(255&e.charCodeAt(u+2))<<16|(255&e.charCodeAt(u+3))<<24],s=[255&e.charCodeAt(u+12)|(255&e.charCodeAt(u+13))<<8|(255&e.charCodeAt(u+14))<<16|(255&e.charCodeAt(u+15))<<24,255&e.charCodeAt(u+8)|(255&e.charCodeAt(u+9))<<8|(255&e.charCodeAt(u+10))<<16|(255&e.charCodeAt(u+11))<<24],o=this.x64Multiply(o,l),o=this.x64Rotl(o,31),o=this.x64Multiply(o,h),r=this.x64Xor(r,o),r=this.x64Rotl(r,27),r=this.x64Add(r,n),r=this.x64Add(this.x64Multiply(r,[0,5]),[0,1390208809]),s=this.x64Multiply(s,h),s=this.x64Rotl(s,33),s=this.x64Multiply(s,l),n=this.x64Xor(n,s),n=this.x64Rotl(n,31),n=this.x64Add(n,r),n=this.x64Add(this.x64Multiply(n,[0,5]),[0,944331445]);switch(o=[0,0],s=[0,0],i){case 15:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(u+14)],48));case 14:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(u+13)],40));case 13:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(u+12)],32));case 12:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(u+11)],24));case 11:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(u+10)],16));case 10:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(u+9)],8));case 9:s=this.x64Xor(s,[0,e.charCodeAt(u+8)]),s=this.x64Multiply(s,h),s=this.x64Rotl(s,33),s=this.x64Multiply(s,l),n=this.x64Xor(n,s);case 8:o=this.x64Xor(o,this.x64LeftShift([0,e.charCodeAt(u+7)],56));case 7:o=this.x64Xor(o,this.x64LeftShift([0,e.charCodeAt(u+6)],48));case 6:o=this.x64Xor(o,this.x64LeftShift([0,e.charCodeAt(u+5)],40));case 5:o=this.x64Xor(o,this.x64LeftShift([0,e.charCodeAt(u+4)],32));case 4:o=this.x64Xor(o,this.x64LeftShift([0,e.charCodeAt(u+3)],24));case 3:o=this.x64Xor(o,this.x64LeftShift([0,e.charCodeAt(u+2)],16));case 2:o=this.x64Xor(o,this.x64LeftShift([0,e.charCodeAt(u+1)],8));case 1:o=this.x64Xor(o,[0,e.charCodeAt(u)]),o=this.x64Multiply(o,l),o=this.x64Rotl(o,31),o=this.x64Multiply(o,h),r=this.x64Xor(r,o)}return r=this.x64Xor(r,[0,e.length]),n=this.x64Xor(n,[0,e.length]),r=this.x64Add(r,n),n=this.x64Add(n,r),r=this.x64Fmix(r),n=this.x64Fmix(n),r=this.x64Add(r,n),n=this.x64Add(n,r),("00000000"+(r[0]>>>0).toString(16)).slice(-8)+("00000000"+(r[1]>>>0).toString(16)).slice(-8)+("00000000"+(n[0]>>>0).toString(16)).slice(-8)+("00000000"+(n[1]>>>0).toString(16)).slice(-8)}},e.VERSION="1.1.0",e});(function(){var ImagePicker,ImageUpload,extend=function(child,parent){for(var key in parent){if(hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},hasProp={}.hasOwnProperty,bind=function(fn,me){return function(){return fn.apply(me,arguments)}};ImageUpload=function(superClass){extend(ImageUpload,superClass);function ImageUpload(){return ImageUpload.__super__.constructor.apply(this,arguments)}ImageUpload.prototype.success_params={type:"layout",thumb_size:"original"};return ImageUpload}(I.ImageUpload);ImagePicker=function(){function ImagePicker(el,editor,update){this.editor=editor;if(update==null){update=null}if(update){this.update=update}this.el=$(el);this.make_upload_btn();this.el.dispatch("click",{remove_image_btn:function(_this){return function(btn){_this.el.removeClass("has_image").find(".image_preview").css("background-image","").end().find(".image_id_input").val("").end().data("image_url","");return _this.send_update()}}(this)});this.el.on("change",function(_this){return function(e){return _this.send_update()}}(this));this.send_update()}ImagePicker.prototype.upload_prefix=function(){return this.editor.upload_prefix()};ImagePicker.prototype.prepare_upload=function(fn){return typeof fn==="function"?fn():void 0};ImagePicker.prototype.update=function(){};ImagePicker.prototype.send_update=function(){var i,len,name,option,opts,ref,url;name=this.el.data("image_name");url=this.el.data("image_url");if(!url){return this.update(name,void 0)}opts={url:url};ref=this.el.find(".image_option");for(i=0,len=ref.length;i<len;i++){option=ref[i];option=$(option);opts[option.data("name")]=option.find("select").val()}return this.update(name,opts)};ImagePicker.prototype.make_upload_btn=function(){var btn;if(this.upload_btn){return}this.progress_inner||(this.progress_inner=this.el.find(".progress_inner"));btn=this.el.find(".upload_image_btn");return this.upload_btn=I.make_popup_upload_button(this,btn,ImageUpload,{start_uploading:function(_this){return function(){_this.progress_inner.css({width:""});return _this.el.addClass("uploading")}}(this),finish_upload:function(_this){return function(upload,file){_this.el.removeClass("uploading").addClass("has_image").find(".image_preview").css("background-image","url("+file.url+")").end().find(".image_id_input").val(file.id).end().data("image_url",file.url);return _this.send_update()}}(this)})};return ImagePicker}();I.AppearanceEditor=function(){AppearanceEditor.ImageUpload=ImageUpload;AppearanceEditor.ImagePicker=ImagePicker;function AppearanceEditor(el,data){this.data=data;this.set_height=bind(this.set_height,this);this.css_template=bind(this.css_template,this);this.el=$(el);this.style=_.extend({},this.data);this.refresh_style=_.debounce(function(_this){return function(){return _this.constructor.prototype.refresh_style.apply(_this,arguments)}}(this),0);this.setup_color_picker();this.setup_image_picker();this.setup_text_areas();this.setup_form();this.el.dispatch("click",{toggle_editor_btn:function(_this){return function(){return _this.toggle()}}(this)});if(window.location.hash.match(/\bedit\b/)){_.defer(function(_this){return function(){return _this.toggle()}}(this))}$(window).on("resize",_.debounce(function(_this){return function(){return _this.set_height()}}(this),100))}AppearanceEditor.prototype.css_template=function(){var template_code;if(!this.css_template_fn){template_code=this.el.data("css_template");if(!template_code){return}this.css_template_fn=eval(template_code)}return this.css_template_fn.apply(this,arguments)};AppearanceEditor.prototype.set_height=function(){var html_h,inner,inner_h,real_height,win_h;inner=this.el.find(".appearance_editor_inner");html_h=$("html").outerHeight(true);win_h=$(window).height();inner_h=inner.outerHeight(true);if(inner_h>win_h){real_height=Math.max(html_h,win_h,inner_h);return this.el.height(real_height).css({bottom:"",position:""})}else{return this.el.height("").css({bottom:"0",position:"fixed"})}};AppearanceEditor.prototype.toggle=function(){var body;body=$(document.body).toggleClass("show_appearance_editor");this.set_height();this.el.addClass("animating");return setTimeout(function(_this){return function(){_this.el.removeClass("animating");return _this.set_height()}}(this),200)};AppearanceEditor.prototype.refresh_style=function(){};AppearanceEditor.prototype.upload_prefix=function(){throw"override me"};AppearanceEditor.prototype.update_image=function(name,image){this.style[name]=image;return this.refresh_style()};AppearanceEditor.prototype.update_color=function(name,color){this.style[name]=color;return this.refresh_style()};AppearanceEditor.prototype.setup_form=function(){return this.el.find("form").remote_submit(function(_this){return function(res){if(res.errors){alert(res.errors.join(", "))}}}(this))};AppearanceEditor.prototype.setup_text_areas=function(){return this.el.on("focusin focusout",".text_field",function(_this){return function(e){return $(e.currentTarget).toggleClass("open",e.type==="focusin")}}(this))};AppearanceEditor.prototype.setup_image_picker=function(){var el,image_pickers;image_pickers=this.el.find(".image_picker");return this.image_pickers=function(){var i,len,results;results=[];for(i=0,len=image_pickers.length;i<len;i++){el=image_pickers[i];results.push(new ImagePicker($(el),this,function(_this){return function(){return _this.update_image.apply(_this,arguments)}}(this)))}return results}.call(this)};AppearanceEditor.prototype.setup_color_picker=function(){var i,len,picker,pickers;this.el.dispatch("click",{color_preview:function(_this){return function(btn){return _this.open_color_picker(btn.closest(".color_picker"))}}(this)});this.el.on("click",".color_picker .close_btn",function(_this){return function(e){var picker;picker=$(e.target).closest(".color_picker");return picker.data("close")()}}(this));this.el.find("input[type='text']").on("focus",function(_this){return function(e){return _this.open_color_picker($(e.target).closest(".color_picker"),false)}}(this));pickers=this.el.find(".color_picker");for(i=0,len=pickers.length;i<len;i++){picker=pickers[i];picker=$(picker);this.set_picker_color(picker,this.style[picker.find("[data-name]").data("name")])}pickers.on("keyup","input",function(_this){return function(e){var color,ref;color=$(e.currentTarget).val();return(ref=$(e.delegateTarget).data("farb"))!=null?ref.setColor(color):void 0}}(this));return pickers.on("change","input",function(_this){return function(e){var color,ref;picker=$(e.delegateTarget);if(color=(ref=picker.data("farb"))!=null?ref.color:void 0){return picker.find("input").val(color)}}}(this))};AppearanceEditor.prototype.set_picker_color=function(picker,color){var farb,h,input,l,preview,ref,s;farb=picker.data("farb")||new $._farbtastic($());input=picker.find("input");if(color){input.val(color)}else{color=input.val()}preview=picker.find(".color_preview");input=picker.find("input");ref=farb.RGBToHSL(farb.unpack(color)),h=ref[0],s=ref[1],l=ref[2];preview.toggleClass("is_bright",l>.9);preview.css("backgroundColor",color);return this.update_color(picker.find("[data-name]").data("name"),color)};AppearanceEditor.prototype.open_color_picker=function(picker,toggle){var base,farb,i,input,len,other_picker,popup,preview,ref;if(toggle==null){toggle=true}if(picker.is(".flyout_open")){if(toggle){picker.data("close")()}return false}ref=this.el.find(".color_picker");for(i=0,len=ref.length;i<len;i++){other_picker=ref[i];if(typeof(base=$(other_picker).data("close"))==="function"){base()}}popup=$('<div class="color_popup input_flyout">\n  <div class="close_btn">&times;</div>\n  <div class="farb"></div>\n</div>');input=picker.find("input");preview=picker.find(".color_preview");picker.data("close",function(_this){return function(){popup.removeClass("open");picker.removeClass("flyout_open").removeData("farb");$(document.body).off("click.color_picker");$(window).off("keydown.color_picker");return setTimeout(function(){return popup.remove()},200)}}(this));farb=$.farbtastic(popup.find(".farb"),function(_this){return function(color){return _this.set_picker_color(picker,color)}}(this));picker.data("farb",farb);farb.setColor(input.val());$(document.body).on("click.color_picker",function(_this){return function(e){if($(e.target).closest(".color_picker").length){return}return picker.data("close")()}}(this));$(window).on("keydown.color_picker",function(_this){return function(e){if(e.keyCode===27){return picker.data("close")()}}}(this));picker.append(popup).addClass("flyout_open");return _.defer(function(_this){return function(){return popup.addClass("open")}}(this))};return AppearanceEditor}()}).call(this);(function(){var bind=function(fn,me){return function(){return fn.apply(me,arguments)}},extend=function(child,parent){for(var key in parent){if(hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},hasProp={}.hasOwnProperty;I.WidgetAppearanceEditor=function(superClass){extend(WidgetAppearanceEditor,superClass);function WidgetAppearanceEditor(el,parent){this.parent=parent;this.refresh_style=bind(this.refresh_style,this);WidgetAppearanceEditor.__super__.constructor.call(this,el)}WidgetAppearanceEditor.prototype.refresh_style=function(style){var b,css,g,h,l,r,ref,ref1,ref2,s,scope;this._style||(this._style=$("#widget_theme"));scope=$.extend(Object.create(I.theme_template_scope),this.el.data("default_style"),style);css=this.css_template(scope);if((ref=this._style)!=null){ref.remove()}this._style=$("<style type='text/css'>"+css+"</style>").appendTo($("head"));ref1=I.Color.parse_color_safe(scope.bg_color),r=ref1[0],g=ref1[1],b=ref1[2];ref2=I.Color.rgb_to_hsl(r,g,b),h=ref2[0],s=ref2[1],l=ref2[2];return this.parent.el.toggleClass("dark",l<60)};return WidgetAppearanceEditor}(I.AppearanceEditor)}).call(this);(function(){var center_elm,smoothstep,wait_until_font_loaded,bind=function(fn,me){return function(){return fn.apply(me,arguments)}},extend=function(child,parent){for(var key in parent){if(hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},hasProp={}.hasOwnProperty;smoothstep=function(t){return t*t*t*(t*(t*6-15)+10)};center_elm=function(el){return el.css({"margin-left":-el.outerWidth()/2+"px","margin-top":-el.outerHeight()/2+"px"})};wait_until_font_loaded=function(el,fn,min_size){var check,icon,timeout,times;if(min_size==null){min_size=10}icon=el.find(".icon");if(!icon.length){return fn()}if(icon.width()===0){setTimeout(fn,100);return}timeout=10;times=20;check=function(){times-=1;timeout+=2;if(icon.width()>min_size){return fn()}else if(times>0){return setTimeout(check,timeout)}};return setTimeout(check,timeout)};I.EmbedBuyForm=function(superClass){extend(EmbedBuyForm,superClass);EmbedBuyForm.prototype.event_category="embed_game";EmbedBuyForm.prototype.submit_handler=function(){if(this.form.attr("method")==="GET"){if(!this.is_valid()){return false}this.el.trigger("i:buy_complete",[]);return}return this.remote_submit.apply(this,arguments)};EmbedBuyForm.prototype.download_url=function(){return"/game/download_url/"+this.game.id};EmbedBuyForm.prototype.set_error=function(err){err=this._clean_error_message(err);return this.embed_widget.show_error(err)};function EmbedBuyForm(el,game,embed_widget){this.embed_widget=embed_widget;this.checkout_btn_handler=bind(this.checkout_btn_handler,this);this.set_error=bind(this.set_error,this);this.download_url=bind(this.download_url,this);this.submit_handler=bind(this.submit_handler,this);EmbedBuyForm.__super__.constructor.call(this,el,game)}EmbedBuyForm.prototype.checkout_btn_handler=function(e){var source;source=this.set_source(e);if(source==="amazon"){this.show_email_capture();return false}};return EmbedBuyForm}(I.BuyForm);I.EmbedWidget=function(){EmbedWidget.prototype.page_p=0;EmbedWidget.prototype.animation_duration=500;EmbedWidget.prototype.template=I.lazy_template(EmbedWidget,"embed_error");function EmbedWidget(el){this.toggle_checkout=bind(this.toggle_checkout,this);var title;this.el=$(el);this.game=this.el.data("game");this.setup_tracking();this.first_page=this.el.find(".first_page");this.second_page=this.el.find(".second_page");this.first_page_shroud=this.first_page.find(".page_shroud");this.second_page_shroud=this.second_page.find(".page_shroud");this.left_column=this.second_page.find(".left_column");this.buy=new I.EmbedBuyForm(this.second_page,this.game,this);if(Modernizr.csstransforms3d){this.prefixed_transform=Modernizr.prefixed("transform")}else{this.update_transition=this.slide_transition}this.el.dispatch("click",{purchase_popup_btn:function(_this){return function(el){var height,left,top,w,width;width=680;height=400;top=(screen.height-height)/2;left=(screen.width-width)/2;w=window.open(el.attr("href"),"purchase","scrollbars=1, resizable=no, width="+width+", height="+height+", top="+top+", left="+left);return typeof w.focus==="function"?w.focus():void 0}}(this),buy_btn:function(_this){return function(){I.event("embed_game","toggle_buy",""+_this.game.id);return _this.toggle()}}(this),try_again_btn:function(_this){return function(){_this.left_column.removeClass("completed_checkout");return _this.buy.set_loading(false)}}(this),back_page_btn:function(_this){return function(){if(_this.left_column.is(".is_free:not(.show_free_message)")){return _this.toggle_checkout(false)}else{return _this.toggle()}}}(this),dismiss_error_btn:function(_this){return function(){return _this.show_error(null)}}(this),enter_price_btn:function(_this){return function(){_this.toggle_checkout();return _this.buy.input.focus()}}(this)});this.update_transition(this.page_p);this.el.on("i:show_checkout",function(_this){return function(){_this.toggle_checkout();return _this.buy.input.focus()}}(this));this.el.on("i:buy_complete",function(_this){return function(){return _this.left_column.addClass("completed_checkout")}}(this));title=this.first_page.find("h1");wait_until_font_loaded(title,function(_this){return function(){return I.adjust_font_size_to_fit(title)}}(this));I.adjust_font_size_to_fit(this.second_page.find("h2"))}EmbedWidget.prototype.setup_tracking=function(){if(document.referrer){return I.ReferrerTracker.push("game",this.game.id,"embed:"+document.referrer)}};EmbedWidget.prototype.toggle_checkout=function(show){if(show==null){show=true}if(show){return this.left_column.removeClass("show_free_message").find(".skip_pay_area").slideUp()}else{return this.left_column.find(".skip_pay_area").slideDown(function(_this){return function(){return _this.left_column.addClass("show_free_message")}}(this))}};EmbedWidget.prototype.show_error=function(text){this.el.find(".error_box").remove();if(text!=null){center_elm($(this.template({text:text})).appendTo(this.el));return this.el.addClass("has_error")}else{return this.el.removeClass("has_error")}};EmbedWidget.prototype.toggle=function(){var obj,to;obj={p:this.page_p};if(this.page_p<.5){to={p:1}}else{to={p:0}}return $(obj).animate(to,{duration:this.animation_duration,progress:function(_this){return function(){_this.update_transition(obj.p);return _this.page_p=obj.p}}(this)})};EmbedWidget.prototype.update_transition=function(p){return this.rotate_transition(p)};EmbedWidget.prototype.slide_transition=function(p){var first_page_height;p=smoothstep(p);first_page_height=this.first_page.outerHeight(true);this.first_page.css({top:p*-1*first_page_height+"px",display:p===1?"none":"block"});this.second_page.css({top:(1-p)*first_page_height+"px",display:p===0?"none":"block"});return this.fade_transition(p)};EmbedWidget.prototype.rotate_transition=function(p){var first_css,first_page_transform,first_z,rot,second_css,second_page_transform,second_z,zscale,ztranslate;zscale=smoothstep(1-Math.abs(p-.5)*2);ztranslate=zscale*-150;if(p<.5){first_z=1;second_z=0}else{first_z=0;second_z=1}rot=p*90;first_page_transform="translatez("+ztranslate+"px) rotateX("+rot+"deg)";second_page_transform="translatez("+ztranslate+"px) rotateX("+(rot-90)+"deg)";if(p===0){first_page_transform="";second_page_transform=""}if(p===1){first_page_transform="";second_page_transform=""}first_css={"z-index":first_z};first_css[this.prefixed_transform]=first_page_transform;this.first_page.css(first_css);second_css={"z-index":second_z};second_css[this.prefixed_transform]=second_page_transform;this.second_page.css(second_css);return this.fade_transition(p)};EmbedWidget.prototype.fade_transition=function(p){var first_opacity,second_opacity;first_opacity=p*.5;second_opacity=(1-p)*.5;first_opacity=Math.round(first_opacity*100)/100;second_opacity=Math.round(second_opacity*100)/100;if(p===0){this.first_page_shroud.hide()}else{this.first_page_shroud.css("opacity",first_opacity).show()}if(p===1){return this.second_page_shroud.hide()}else{return this.second_page_shroud.css("opacity",second_opacity).show()}};EmbedWidget.prototype.set_style=function(style){this.appearance_editor||(this.appearance_editor=new I.WidgetAppearanceEditor($(".widget_appearance_widget"),this));return this.appearance_editor.refresh_style(style)};return EmbedWidget}()}).call(this);(function(){I.ReferrerTracker=function(){function ReferrerTracker(){}ReferrerTracker.MAX_ITEMS=20;ReferrerTracker.get_cookie=function(){return Cookies.getJSON("itchio_refs")||[]};ReferrerTracker.write_cookie=function(val){return I.set_cookie("itchio_refs",val,{expires:14})};ReferrerTracker.has_ref=function(type,id){var cid,ctype,i,len,ref,ref1;id=+id;ref=ReferrerTracker.get_cookie();for(i=0,len=ref.length;i<len;i++){ref1=ref[i],ctype=ref1[0],cid=ref1[1];if(ctype===type&&cid===id){return true}}return false};ReferrerTracker.push=function(type,id,value){var r,refs;if(!(value&&value.length>0)){return}id=+id;refs=function(){var i,len,ref,results;ref=this.get_cookie();results=[];for(i=0,len=ref.length;i<len;i++){r=ref[i];if(r[0]===type&&r[1]===id){continue}results.push(r)}return results}.call(ReferrerTracker);if(I.in_dev){console.log("pushing referrer",[type,id,value])}refs.unshift([type,id,value]);while(refs.length>ReferrerTracker.MAX_ITEMS){refs.pop()}return ReferrerTracker.write_cookie(refs)};return ReferrerTracker}()}).call(this);
